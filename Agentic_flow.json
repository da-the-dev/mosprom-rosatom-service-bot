{
  "data": {
    "edges": [
      {
        "animated": false,
        "className": "",
        "data": {
          "sourceHandle": {
            "dataType": "ClassifyRequest",
            "id": "ClassifyRequest-h3OKt",
            "name": "tool_output",
            "output_types": [
              "Tool"
            ]
          },
          "targetHandle": {
            "fieldName": "tools",
            "id": "Agent-SD69D",
            "inputTypes": [
              "Tool"
            ],
            "type": "other"
          }
        },
        "id": "reactflow__edge-ClassifyRequest-h3OKt{≈ìdataType≈ì:≈ìClassifyRequest≈ì,≈ìid≈ì:≈ìClassifyRequest-h3OKt≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}-Agent-SD69D{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}",
        "selected": false,
        "source": "ClassifyRequest-h3OKt",
        "sourceHandle": "{≈ìdataType≈ì:≈ìClassifyRequest≈ì,≈ìid≈ì:≈ìClassifyRequest-h3OKt≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}",
        "target": "Agent-SD69D",
        "targetHandle": "{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}"
      },
      {
        "animated": false,
        "className": "",
        "data": {
          "sourceHandle": {
            "dataType": "SystemAction",
            "id": "SystemAction-fVbYV",
            "name": "tool_output",
            "output_types": [
              "Tool"
            ]
          },
          "targetHandle": {
            "fieldName": "tools",
            "id": "Agent-SD69D",
            "inputTypes": [
              "Tool"
            ],
            "type": "other"
          }
        },
        "id": "reactflow__edge-SystemAction-fVbYV{≈ìdataType≈ì:≈ìSystemAction≈ì,≈ìid≈ì:≈ìSystemAction-fVbYV≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}-Agent-SD69D{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}",
        "selected": false,
        "source": "SystemAction-fVbYV",
        "sourceHandle": "{≈ìdataType≈ì:≈ìSystemAction≈ì,≈ìid≈ì:≈ìSystemAction-fVbYV≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}",
        "target": "Agent-SD69D",
        "targetHandle": "{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}"
      },
      {
        "animated": false,
        "className": "",
        "data": {
          "sourceHandle": {
            "dataType": "KnowledgeBaseSearch",
            "id": "KnowledgeBaseSearch-WjuKu",
            "name": "tool_output",
            "output_types": [
              "Tool"
            ]
          },
          "targetHandle": {
            "fieldName": "tools",
            "id": "Agent-SD69D",
            "inputTypes": [
              "Tool"
            ],
            "type": "other"
          }
        },
        "id": "reactflow__edge-KnowledgeBaseSearch-WjuKu{≈ìdataType≈ì:≈ìKnowledgeBaseSearch≈ì,≈ìid≈ì:≈ìKnowledgeBaseSearch-WjuKu≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}-Agent-SD69D{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}",
        "selected": false,
        "source": "KnowledgeBaseSearch-WjuKu",
        "sourceHandle": "{≈ìdataType≈ì:≈ìKnowledgeBaseSearch≈ì,≈ìid≈ì:≈ìKnowledgeBaseSearch-WjuKu≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}",
        "target": "Agent-SD69D",
        "targetHandle": "{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}"
      },
      {
        "animated": false,
        "className": "",
        "data": {
          "sourceHandle": {
            "dataType": "EscalateToHuman",
            "id": "EscalateToHuman-Tn5YM",
            "name": "tool_output",
            "output_types": [
              "Tool"
            ]
          },
          "targetHandle": {
            "fieldName": "tools",
            "id": "Agent-SD69D",
            "inputTypes": [
              "Tool"
            ],
            "type": "other"
          }
        },
        "id": "reactflow__edge-EscalateToHuman-Tn5YM{≈ìdataType≈ì:≈ìEscalateToHuman≈ì,≈ìid≈ì:≈ìEscalateToHuman-Tn5YM≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}-Agent-SD69D{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}",
        "selected": false,
        "source": "EscalateToHuman-Tn5YM",
        "sourceHandle": "{≈ìdataType≈ì:≈ìEscalateToHuman≈ì,≈ìid≈ì:≈ìEscalateToHuman-Tn5YM≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}",
        "target": "Agent-SD69D",
        "targetHandle": "{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}"
      },
      {
        "animated": false,
        "className": "",
        "data": {
          "sourceHandle": {
            "dataType": "URLComponent",
            "id": "URLComponent-MKrOi",
            "name": "component_as_tool",
            "output_types": [
              "Tool"
            ]
          },
          "targetHandle": {
            "fieldName": "tools",
            "id": "Agent-SD69D",
            "inputTypes": [
              "Tool"
            ],
            "type": "other"
          }
        },
        "id": "xy-edge__URLComponent-MKrOi{≈ìdataType≈ì:≈ìURLComponent≈ì,≈ìid≈ì:≈ìURLComponent-MKrOi≈ì,≈ìname≈ì:≈ìcomponent_as_tool≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}-Agent-SD69D{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}",
        "selected": false,
        "source": "URLComponent-MKrOi",
        "sourceHandle": "{≈ìdataType≈ì:≈ìURLComponent≈ì,≈ìid≈ì:≈ìURLComponent-MKrOi≈ì,≈ìname≈ì:≈ìcomponent_as_tool≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}",
        "target": "Agent-SD69D",
        "targetHandle": "{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}"
      },
      {
        "animated": false,
        "className": "",
        "data": {
          "sourceHandle": {
            "dataType": "Prompt Template",
            "id": "Prompt Template-KE2CE",
            "name": "prompt",
            "output_types": [
              "Message"
            ]
          },
          "targetHandle": {
            "fieldName": "system_prompt",
            "id": "Agent-SD69D",
            "inputTypes": [
              "Message"
            ],
            "type": "str"
          }
        },
        "id": "xy-edge__Prompt Template-KE2CE{≈ìdataType≈ì:≈ìPrompt Template≈ì,≈ìid≈ì:≈ìPrompt Template-KE2CE≈ì,≈ìname≈ì:≈ìprompt≈ì,≈ìoutput_types≈ì:[≈ìMessage≈ì]}-Agent-SD69D{≈ìfieldName≈ì:≈ìsystem_prompt≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìMessage≈ì],≈ìtype≈ì:≈ìstr≈ì}",
        "selected": false,
        "source": "Prompt Template-KE2CE",
        "sourceHandle": "{≈ìdataType≈ì:≈ìPrompt Template≈ì,≈ìid≈ì:≈ìPrompt Template-KE2CE≈ì,≈ìname≈ì:≈ìprompt≈ì,≈ìoutput_types≈ì:[≈ìMessage≈ì]}",
        "target": "Agent-SD69D",
        "targetHandle": "{≈ìfieldName≈ì:≈ìsystem_prompt≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìMessage≈ì],≈ìtype≈ì:≈ìstr≈ì}"
      },
      {
        "animated": false,
        "className": "",
        "data": {
          "sourceHandle": {
            "dataType": "ChatInput",
            "id": "ChatInput-rPhQw",
            "name": "message",
            "output_types": [
              "Message"
            ]
          },
          "targetHandle": {
            "fieldName": "input_value",
            "id": "Agent-SD69D",
            "inputTypes": [
              "Message"
            ],
            "type": "str"
          }
        },
        "id": "xy-edge__ChatInput-rPhQw{≈ìdataType≈ì:≈ìChatInput≈ì,≈ìid≈ì:≈ìChatInput-rPhQw≈ì,≈ìname≈ì:≈ìmessage≈ì,≈ìoutput_types≈ì:[≈ìMessage≈ì]}-Agent-SD69D{≈ìfieldName≈ì:≈ìinput_value≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìMessage≈ì],≈ìtype≈ì:≈ìstr≈ì}",
        "selected": false,
        "source": "ChatInput-rPhQw",
        "sourceHandle": "{≈ìdataType≈ì:≈ìChatInput≈ì,≈ìid≈ì:≈ìChatInput-rPhQw≈ì,≈ìname≈ì:≈ìmessage≈ì,≈ìoutput_types≈ì:[≈ìMessage≈ì]}",
        "target": "Agent-SD69D",
        "targetHandle": "{≈ìfieldName≈ì:≈ìinput_value≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìMessage≈ì],≈ìtype≈ì:≈ìstr≈ì}"
      },
      {
        "animated": false,
        "className": "",
        "data": {
          "sourceHandle": {
            "dataType": "Agent",
            "id": "Agent-SD69D",
            "name": "response",
            "output_types": [
              "Message"
            ]
          },
          "targetHandle": {
            "fieldName": "input_value",
            "id": "ChatOutput-oaZFI",
            "inputTypes": [
              "Data",
              "DataFrame",
              "Message"
            ],
            "type": "other"
          }
        },
        "id": "xy-edge__Agent-SD69D{≈ìdataType≈ì:≈ìAgent≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìname≈ì:≈ìresponse≈ì,≈ìoutput_types≈ì:[≈ìMessage≈ì]}-ChatOutput-oaZFI{≈ìfieldName≈ì:≈ìinput_value≈ì,≈ìid≈ì:≈ìChatOutput-oaZFI≈ì,≈ìinputTypes≈ì:[≈ìData≈ì,≈ìDataFrame≈ì,≈ìMessage≈ì],≈ìtype≈ì:≈ìother≈ì}",
        "selected": false,
        "source": "Agent-SD69D",
        "sourceHandle": "{≈ìdataType≈ì:≈ìAgent≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìname≈ì:≈ìresponse≈ì,≈ìoutput_types≈ì:[≈ìMessage≈ì]}",
        "target": "ChatOutput-oaZFI",
        "targetHandle": "{≈ìfieldName≈ì:≈ìinput_value≈ì,≈ìid≈ì:≈ìChatOutput-oaZFI≈ì,≈ìinputTypes≈ì:[≈ìData≈ì,≈ìDataFrame≈ì,≈ìMessage≈ì],≈ìtype≈ì:≈ìother≈ì}"
      },
      {
        "animated": false,
        "className": "",
        "data": {
          "sourceHandle": {
            "dataType": "ToxicityCheck",
            "id": "CustomComponent-487Wh",
            "name": "tool_output",
            "output_types": [
              "Tool"
            ]
          },
          "targetHandle": {
            "fieldName": "tools",
            "id": "Agent-SD69D",
            "inputTypes": [
              "Tool"
            ],
            "type": "other"
          }
        },
        "id": "xy-edge__CustomComponent-487Wh{≈ìdataType≈ì:≈ìToxicityCheck≈ì,≈ìid≈ì:≈ìCustomComponent-487Wh≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}-Agent-SD69D{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}",
        "selected": false,
        "source": "CustomComponent-487Wh",
        "sourceHandle": "{≈ìdataType≈ì:≈ìToxicityCheck≈ì,≈ìid≈ì:≈ìCustomComponent-487Wh≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}",
        "target": "Agent-SD69D",
        "targetHandle": "{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}"
      },
      {
        "animated": false,
        "className": "",
        "data": {
          "sourceHandle": {
            "dataType": "CheckRequestStatus",
            "id": "CustomComponent-wIqXI",
            "name": "tool_output",
            "output_types": [
              "Tool"
            ]
          },
          "targetHandle": {
            "fieldName": "tools",
            "id": "Agent-SD69D",
            "inputTypes": [
              "Tool"
            ],
            "type": "other"
          }
        },
        "id": "xy-edge__CustomComponent-wIqXI{≈ìdataType≈ì:≈ìCheckRequestStatus≈ì,≈ìid≈ì:≈ìCustomComponent-wIqXI≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}-Agent-SD69D{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}",
        "selected": false,
        "source": "CustomComponent-wIqXI",
        "sourceHandle": "{≈ìdataType≈ì:≈ìCheckRequestStatus≈ì,≈ìid≈ì:≈ìCustomComponent-wIqXI≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}",
        "target": "Agent-SD69D",
        "targetHandle": "{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}"
      },
      {
        "animated": false,
        "className": "",
        "data": {
          "sourceHandle": {
            "dataType": "EmployeeInfo",
            "id": "CustomComponent-q1rbD",
            "name": "tool_output",
            "output_types": [
              "Tool"
            ]
          },
          "targetHandle": {
            "fieldName": "tools",
            "id": "Agent-SD69D",
            "inputTypes": [
              "Tool"
            ],
            "type": "other"
          }
        },
        "id": "xy-edge__CustomComponent-q1rbD{≈ìdataType≈ì:≈ìEmployeeInfo≈ì,≈ìid≈ì:≈ìCustomComponent-q1rbD≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}-Agent-SD69D{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}",
        "selected": false,
        "source": "CustomComponent-q1rbD",
        "sourceHandle": "{≈ìdataType≈ì:≈ìEmployeeInfo≈ì,≈ìid≈ì:≈ìCustomComponent-q1rbD≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}",
        "target": "Agent-SD69D",
        "targetHandle": "{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}"
      },
      {
        "animated": false,
        "className": "",
        "data": {
          "sourceHandle": {
            "dataType": "SmartOrchestrationRouter",
            "id": "CustomComponent-qRuGK",
            "name": "tool_output",
            "output_types": [
              "Tool"
            ]
          },
          "targetHandle": {
            "fieldName": "tools",
            "id": "Agent-SD69D",
            "inputTypes": [
              "Tool"
            ],
            "type": "other"
          }
        },
        "id": "xy-edge__CustomComponent-qRuGK{≈ìdataType≈ì:≈ìSmartOrchestrationRouter≈ì,≈ìid≈ì:≈ìCustomComponent-qRuGK≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}-Agent-SD69D{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}",
        "selected": false,
        "source": "CustomComponent-qRuGK",
        "sourceHandle": "{≈ìdataType≈ì:≈ìSmartOrchestrationRouter≈ì,≈ìid≈ì:≈ìCustomComponent-qRuGK≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}",
        "target": "Agent-SD69D",
        "targetHandle": "{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}"
      },
      {
        "animated": false,
        "className": "",
        "data": {
          "sourceHandle": {
            "dataType": "ProcessingMonitor",
            "id": "CustomComponent-pznJO",
            "name": "tool_output",
            "output_types": [
              "Tool"
            ]
          },
          "targetHandle": {
            "fieldName": "tools",
            "id": "Agent-SD69D",
            "inputTypes": [
              "Tool"
            ],
            "type": "other"
          }
        },
        "id": "xy-edge__CustomComponent-pznJO{≈ìdataType≈ì:≈ìProcessingMonitor≈ì,≈ìid≈ì:≈ìCustomComponent-pznJO≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}-Agent-SD69D{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}",
        "selected": false,
        "source": "CustomComponent-pznJO",
        "sourceHandle": "{≈ìdataType≈ì:≈ìProcessingMonitor≈ì,≈ìid≈ì:≈ìCustomComponent-pznJO≈ì,≈ìname≈ì:≈ìtool_output≈ì,≈ìoutput_types≈ì:[≈ìTool≈ì]}",
        "target": "Agent-SD69D",
        "targetHandle": "{≈ìfieldName≈ì:≈ìtools≈ì,≈ìid≈ì:≈ìAgent-SD69D≈ì,≈ìinputTypes≈ì:[≈ìTool≈ì],≈ìtype≈ì:≈ìother≈ì}"
      }
    ],
    "nodes": [
      {
        "data": {
          "id": "EscalateToHuman-Tn5YM",
          "node": {
            "base_classes": [
              "Tool"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {},
            "description": "–ü–µ—Ä–µ–¥–∞–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫—É-–æ–ø–µ—Ä–∞—Ç–æ—Ä—É",
            "display_name": "Escalate to Human Tool",
            "documentation": "",
            "edited": true,
            "field_order": [],
            "frozen": false,
            "icon": "user-circle",
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": false,
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Tool",
                "group_outputs": false,
                "hidden": null,
                "method": "build_tool",
                "name": "tool_output",
                "options": null,
                "required_inputs": null,
                "selected": "Tool",
                "tool_mode": true,
                "types": [
                  "Tool"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "template": {
              "_type": "Component",
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "from langflow.custom import Component\r\nfrom langflow.io import Output, StrInput\r\nfrom langflow.schema.message import Message\r\nfrom langchain.tools import Tool\r\nfrom typing import Optional\r\nimport json\r\nfrom datetime import datetime\r\n\r\n\r\n# ============================================\r\n# TOOL 1: –≠—Å–∫–∞–ª–∞—Ü–∏—è –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô)\r\n# ============================================\r\n\r\nclass EscalateToHumanTool(Component):\r\n    display_name = \"Escalate to Human Tool\"\r\n    description = \"–ü–µ—Ä–µ–¥–∞–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫—É-–æ–ø–µ—Ä–∞—Ç–æ—Ä—É\"\r\n    icon = \"user-circle\"\r\n    name = \"EscalateToHuman\"\r\n    \r\n    outputs = [\r\n        Output(display_name=\"Tool\", name=\"tool_output\", method=\"build_tool\"),\r\n    ]\r\n\r\n    def escalate_to_human(self, reason: str) -> str:\r\n        \"\"\"\r\n        –§—É–Ω–∫—Ü–∏—è —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞\r\n        –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ reason –∫–∞–∫ —Å—Ç—Ä–æ–∫—É\r\n        \"\"\"\r\n        timestamp = datetime.now().isoformat()\r\n        \r\n        response = f\"\"\"\r\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\r\n‚ïë   –û–ë–†–ê–©–ï–ù–ò–ï –ü–ï–†–ï–î–ê–ù–û –û–ü–ï–†–ê–¢–û–†–£        ‚ïë\r\n‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\r\n\r\n–ü—Ä–∏—á–∏–Ω–∞: {reason}\r\n–í—Ä–µ–º—è: {timestamp}\r\n\r\n–û–ø–µ—Ä–∞—Ç–æ—Ä –ø–æ–ª—É—á–∏–ª –≤–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∏ —Å–∫–æ—Ä–æ —Å –≤–∞–º–∏ —Å–≤—è–∂–µ—Ç—Å—è.\r\n–û–±—ã—á–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è: 5-10 –º–∏–Ω—É—Ç.\r\n\r\n–°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–µ—Ä–ø–µ–Ω–∏–µ! üôè\r\n\"\"\"\r\n        \r\n        self.log(f\"Escalation triggered: {reason}\")\r\n        return response\r\n    \r\n    def build_tool(self) -> Tool:\r\n        \"\"\"\r\n        –°–æ–∑–¥–∞–µ—Ç Tool –¥–ª—è Agent\r\n        \"\"\"\r\n        return Tool(\r\n            name=\"escalate_to_human\",\r\n            description=(\r\n                \"–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–´–ô –ò–ù–°–¢–†–£–ú–ï–ù–¢! –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–≥–¥–∞: \"\r\n                \"1) –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ –Ω–∏–∂–µ 70%, \"\r\n                \"2) –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–Ω–æ –ø—Ä–æ—Å–∏—Ç —Å–≤—è–∑–∞—Ç—å—Å—è —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º, \"\r\n                \"3) –í–æ–ø—Ä–æ—Å —Ç—Ä–µ–±—É–µ—Ç —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ —Å—É–∂–¥–µ–Ω–∏—è, \"\r\n                \"4) –ù–µ –Ω–∞–π–¥–µ–Ω–æ —Ä–µ—à–µ–Ω–∏–µ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π, \"\r\n                \"5) –°–∏—Ç—É–∞—Ü–∏—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∏–ª–∏ —Å–ª–æ–∂–Ω–∞—è. \"\r\n                \"–í—Ö–æ–¥–Ω–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä: reason - –ø—Ä–∏—á–∏–Ω–∞ —ç—Å–∫–∞–ª–∞—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∞)\"\r\n            ),\r\n            func=self.escalate_to_human,\r\n        )"
              }
            },
            "tool_mode": false
          },
          "showNode": true,
          "type": "EscalateToHuman"
        },
        "dragging": false,
        "id": "EscalateToHuman-Tn5YM",
        "measured": {
          "height": 121,
          "width": 320
        },
        "position": {
          "x": 1358.8630288273625,
          "y": 668.386714332452
        },
        "selected": false,
        "type": "genericNode"
      },
      {
        "data": {
          "id": "KnowledgeBaseSearch-WjuKu",
          "node": {
            "base_classes": [
              "Tool"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {},
            "description": "–ü–æ–∏—Å–∫ –æ—Ç–≤–µ—Ç–æ–≤ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π —á–µ—Ä–µ–∑ Qdrant —Å Yandex Embeddings",
            "display_name": "Knowledge Base Search Tool",
            "documentation": "",
            "edited": true,
            "field_order": [
              "qdrant_url",
              "collection_name",
              "qdrant_api_key",
              "yandex_api_key",
              "yandex_folder_id",
              "top_k",
              "score_threshold"
            ],
            "frozen": false,
            "icon": "database",
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": false,
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Tool",
                "group_outputs": false,
                "hidden": null,
                "method": "build_tool",
                "name": "tool_output",
                "options": null,
                "required_inputs": null,
                "selected": "Tool",
                "tool_mode": true,
                "types": [
                  "Tool"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "template": {
              "_type": "Component",
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "from langflow.custom import Component\r\nfrom langflow.io import Output, StrInput, SecretStrInput, IntInput, FloatInput\r\nfrom langflow.schema.message import Message\r\nfrom langchain.tools import Tool\r\nfrom typing import Optional, List\r\nimport json\r\nimport requests\r\nfrom datetime import datetime\r\n\r\nclass KnowledgeBaseSearchTool(Component):\r\n    display_name = \"Knowledge Base Search Tool\"\r\n    description = \"–ü–æ–∏—Å–∫ –æ—Ç–≤–µ—Ç–æ–≤ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π —á–µ—Ä–µ–∑ Qdrant —Å Yandex Embeddings\"\r\n    icon = \"database\"\r\n    name = \"KnowledgeBaseSearch\"\r\n    \r\n    inputs = [\r\n        StrInput(\r\n            name=\"qdrant_url\",\r\n            display_name=\"Qdrant URL\",\r\n            value=\"http://localhost:6333\",\r\n            info=\"URL –≤–∞—à–µ–≥–æ Qdrant —Å–µ—Ä–≤–µ—Ä–∞\",\r\n        ),\r\n        StrInput(\r\n            name=\"collection_name\",\r\n            display_name=\"Collection Name\",\r\n            value=\"support_qa\",\r\n            info=\"–ò–º—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å QA –¥–∞–Ω–Ω—ã–º–∏\",\r\n        ),\r\n        SecretStrInput(\r\n            name=\"qdrant_api_key\",\r\n            display_name=\"Qdrant API Key\",\r\n            value=\"\",\r\n            info=\"API –∫–ª—é—á –¥–ª—è Qdrant (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)\",\r\n        ),\r\n        SecretStrInput(\r\n            name=\"yandex_api_key\",\r\n            display_name=\"Yandex Cloud API Key\",\r\n            info=\"API –∫–ª—é—á –¥–ª—è Yandex Cloud (IAM —Ç–æ–∫–µ–Ω –∏–ª–∏ API –∫–ª—é—á)\",\r\n            required=True,\r\n        ),\r\n        StrInput(\r\n            name=\"yandex_folder_id\",\r\n            display_name=\"Yandex Folder ID\",\r\n            info=\"ID –∫–∞—Ç–∞–ª–æ–≥–∞ –≤ Yandex Cloud\",\r\n            required=True,\r\n        ),\r\n        IntInput(\r\n            name=\"top_k\",\r\n            display_name=\"Top K Results\",\r\n            value=3,\r\n            info=\"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞\",\r\n        ),\r\n        FloatInput(\r\n            name=\"score_threshold\",\r\n            display_name=\"Score Threshold\",\r\n            value=0.7,\r\n            info=\"–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ (0-1)\",\r\n        ),\r\n    ]\r\n    \r\n    outputs = [\r\n        Output(display_name=\"Tool\", name=\"tool_output\", method=\"build_tool\"),\r\n    ]\r\n    \r\n    def get_yandex_embedding(self, text: str) -> List[float]:\r\n        \"\"\"\r\n        –ü–æ–ª—É—á–∞–µ—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ Yandex Cloud API\r\n        \"\"\"\r\n        url = \"https://llm.api.cloud.yandex.net/foundationModels/v1/textEmbedding\"\r\n        \r\n        headers = {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": f\"Api-Key {self.yandex_api_key}\",\r\n            \"x-folder-id\": self.yandex_folder_id,\r\n        }\r\n        \r\n        payload = {\r\n            \"modelUri\": f\"emb://{self.yandex_folder_id}/text-search-query/latest\",\r\n            \"text\": text,\r\n        }\r\n        \r\n        try:\r\n            response = requests.post(url, headers=headers, json=payload, timeout=30)\r\n            response.raise_for_status()\r\n            \r\n            result = response.json()\r\n            embedding = result.get(\"embedding\", [])\r\n            \r\n            if not embedding:\r\n                raise ValueError(\"–ü–æ–ª—É—á–µ–Ω –ø—É—Å—Ç–æ–π —ç–º–±–µ–¥–¥–∏–Ω–≥ –æ—Ç API\")\r\n            \r\n            self.log(f\"–ü–æ–ª—É—á–µ–Ω —ç–º–±–µ–¥–¥–∏–Ω–≥ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏: {len(embedding)}\")\r\n            return embedding\r\n            \r\n        except requests.exceptions.RequestException as e:\r\n            error_msg = f\"–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ Yandex API: {str(e)}\"\r\n            self.log(error_msg)\r\n            raise Exception(error_msg)\r\n        except Exception as e:\r\n            error_msg = f\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞: {str(e)}\"\r\n            self.log(error_msg)\r\n            raise Exception(error_msg)\r\n    \r\n    def format_results(self, query: str, results: List) -> str:\r\n        \"\"\"\r\n        –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –≤ —á–∏—Ç–∞–µ–º—ã–π –≤–∏–¥\r\n        \"\"\"\r\n        if not results:\r\n            return f\"\"\"\r\nüîç –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–û–ò–°–ö–ê –í –ë–ê–ó–ï –ó–ù–ê–ù–ò–ô\r\n–ó–∞–ø—Ä–æ—Å: \"{query}\"\r\n‚ùå –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ\r\n\r\nüí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É.\r\n\"\"\"\r\n        \r\n        formatted = f\"\"\"\r\nüîç –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–û–ò–°–ö–ê –í –ë–ê–ó–ï –ó–ù–ê–ù–ò–ô\r\n–ó–∞–ø—Ä–æ—Å: \"{query}\"\r\n–ù–∞–π–¥–µ–Ω–æ: {len(results)} —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\"\"\"\r\n        \r\n        for idx, result in enumerate(results, 1):\r\n            score = result.score\r\n            payload = result.payload\r\n            \r\n            question = payload.get(\"question\", \"–ù–µ—Ç –≤–æ–ø—Ä–æ—Å–∞\")\r\n            answer = payload.get(\"answer\", \"–ù–µ—Ç –æ—Ç–≤–µ—Ç–∞\")\r\n            category = payload.get(\"category\", \"–û–±—â–µ–µ\")\r\n            \r\n            formatted += f\"\"\"\r\nüìå –†–µ–∑—É–ª—å—Ç–∞—Ç #{idx} (–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: {score:.2f})\r\n–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {category}\r\n–í–æ–ø—Ä–æ—Å: {question}\r\n–û—Ç–≤–µ—Ç: {answer}\r\n\"\"\"\r\n        \r\n        formatted += \"\"\"‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\"\"\"\r\n        \r\n        # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é\r\n        best_score = results[0].score if results else 0\r\n        if best_score >= 0.85:\r\n            formatted += \"üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –í—ã—Å–æ–∫–∞—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å! –ò—Å–ø–æ–ª—å–∑—É–π –ø–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.\\n\"\r\n        elif best_score >= 0.7:\r\n            formatted += \"üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –•–æ—Ä–æ—à–∞—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.\\n\"\r\n        else:\r\n            formatted += \"‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ù–∏–∑–∫–∞—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å. –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞.\\n\"\r\n        \r\n        return formatted\r\n    \r\n    def search_kb(self, query: str) -> str:\r\n        \"\"\"\r\n        –ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞\r\n        \"\"\"\r\n        try:\r\n            from qdrant_client import QdrantClient\r\n            from qdrant_client.models import Filter, FieldCondition, MatchValue\r\n            \r\n            # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Qdrant\r\n            client = QdrantClient(\r\n                url=self.qdrant_url,\r\n                api_key=self.qdrant_api_key if self.qdrant_api_key else None,\r\n                timeout=30,\r\n            )\r\n            \r\n            self.log(f\"–ù–∞—á–∏–Ω–∞—é –ø–æ–∏—Å–∫ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞: {query}\")\r\n            \r\n            # –ü–æ–ª—É—á–∞–µ–º —ç–º–±–µ–¥–¥–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–∞\r\n            query_vector = self.get_yandex_embedding(query)\r\n            \r\n            # –í—ã–ø–æ–ª–Ω—è–µ–º –ø–æ–∏—Å–∫ –≤ Qdrant\r\n            search_result = client.search(\r\n                collection_name=self.collection_name,\r\n                query_vector=query_vector,\r\n                limit=self.top_k,\r\n                score_threshold=self.score_threshold,\r\n                with_payload=True,\r\n            )\r\n            \r\n            self.log(f\"–ù–∞–π–¥–µ–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: {len(search_result)}\")\r\n            \r\n            # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã\r\n            formatted_results = self.format_results(query, search_result)\r\n            return formatted_results\r\n            \r\n        except ImportError as e:\r\n            error_msg = f\"‚ùå –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏: {str(e)}\\n–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: pip install qdrant-client\"\r\n            self.log(error_msg)\r\n            return error_msg\r\n            \r\n        except Exception as e:\r\n            error_msg = f\"‚ùå –û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π: {str(e)}\"\r\n            self.log(error_msg)\r\n            return error_msg\r\n    \r\n    def build_tool(self) -> Tool:\r\n        return Tool(\r\n            name=\"search_knowledge_base\",\r\n            description=(\r\n                \"üîç –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –í–°–ï–• –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –ø–æ–ª–∏—Ç–∏–∫–∞—Ö –∫–æ–º–ø–∞–Ω–∏–∏, –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ö –∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª–∞—Ö. \"\r\n                \"–ò—Å–ø–æ–ª—å–∑—É–π –í–°–ï–ì–î–ê –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç: \"\r\n                \"- –ö–∞–∫ —á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ –∫–æ–º–ø–∞–Ω–∏–∏ (–∏–∑–º–µ–Ω–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫, —Å–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø) \"\r\n                \"- –û –ø—Ä–∞–≤–∏–ª–∞—Ö –∏ –ø–æ–ª–∏—Ç–∏–∫–∞—Ö –∫–æ–º–ø–∞–Ω–∏–∏ (–æ—Ç–ø—É—Å–∫–∞, –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏, HR-–ø—Ä–æ—Ü–µ—Å—Å—ã) \"\r\n                \"- –û —Ä–∞–±–æ—Ç–µ —Å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ \"\r\n                \"- –û –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö –∏ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∞—Ö –∫–æ–º–ø–∞–Ω–∏–∏ \"\r\n                \"–í–ê–ñ–ù–û: –î–∞–∂–µ –µ—Å–ª–∏ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –∑–Ω–∞–µ—à—å –æ—Ç–≤–µ—Ç - –í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—å –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π! \"\r\n                \"–ö–æ–º–ø–∞–Ω–∏—è –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞, –æ—Ç–ª–∏—á–∞—é—â–∏–µ—Å—è –æ—Ç –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã—Ö. \"\r\n                \"–í—Ö–æ–¥–Ω–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä: query (–≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)\"\r\n            ),\r\n            func=self.search_kb,\r\n        )"
              },
              "collection_name": {
                "_input_type": "StrInput",
                "advanced": false,
                "display_name": "Collection Name",
                "dynamic": false,
                "info": "–ò–º—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å QA –¥–∞–Ω–Ω—ã–º–∏",
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "name": "collection_name",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "str",
                "value": "support_qa"
              },
              "qdrant_api_key": {
                "_input_type": "SecretStrInput",
                "advanced": false,
                "display_name": "Qdrant API Key",
                "dynamic": false,
                "info": "API –∫–ª—é—á –¥–ª—è Qdrant (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)",
                "input_types": [],
                "load_from_db": false,
                "name": "qdrant_api_key",
                "password": true,
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "type": "str",
                "value": ""
              },
              "qdrant_url": {
                "_input_type": "StrInput",
                "advanced": false,
                "display_name": "Qdrant URL",
                "dynamic": false,
                "info": "URL –≤–∞—à–µ–≥–æ Qdrant —Å–µ—Ä–≤–µ—Ä–∞",
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "name": "qdrant_url",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "str",
                "value": "http://158.160.28.12:6333/"
              },
              "score_threshold": {
                "_input_type": "FloatInput",
                "advanced": false,
                "display_name": "Score Threshold",
                "dynamic": false,
                "info": "–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ (0-1)",
                "list": false,
                "list_add_label": "Add More",
                "name": "score_threshold",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "float",
                "value": 0.7
              },
              "top_k": {
                "_input_type": "IntInput",
                "advanced": false,
                "display_name": "Top K Results",
                "dynamic": false,
                "info": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞",
                "list": false,
                "list_add_label": "Add More",
                "name": "top_k",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "int",
                "value": 3
              },
              "yandex_api_key": {
                "_input_type": "SecretStrInput",
                "advanced": false,
                "display_name": "Yandex Cloud API Key",
                "dynamic": false,
                "info": "API –∫–ª—é—á –¥–ª—è Yandex Cloud (IAM —Ç–æ–∫–µ–Ω –∏–ª–∏ API –∫–ª—é—á)",
                "input_types": [],
                "load_from_db": false,
                "name": "yandex_api_key",
                "password": true,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "str",
                "value": ""
              },
              "yandex_folder_id": {
                "_input_type": "StrInput",
                "advanced": false,
                "display_name": "Yandex Folder ID",
                "dynamic": false,
                "info": "ID –∫–∞—Ç–∞–ª–æ–≥–∞ –≤ Yandex Cloud",
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "name": "yandex_folder_id",
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "str",
                "value": "b1gbknonr2fm4ss0se7a"
              }
            },
            "tool_mode": false
          },
          "showNode": true,
          "type": "KnowledgeBaseSearch"
        },
        "dragging": false,
        "id": "KnowledgeBaseSearch-WjuKu",
        "measured": {
          "height": 711,
          "width": 320
        },
        "position": {
          "x": 900.838989133743,
          "y": 266.85908573837116
        },
        "selected": false,
        "type": "genericNode"
      },
      {
        "data": {
          "id": "SystemAction-fVbYV",
          "node": {
            "base_classes": [
              "Tool"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {},
            "description": "–≠–º—É–ª–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö",
            "display_name": "System Action Tool",
            "documentation": "",
            "edited": true,
            "field_order": [],
            "frozen": false,
            "icon": "settings",
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": false,
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Tool",
                "group_outputs": false,
                "hidden": null,
                "method": "build_tool",
                "name": "tool_output",
                "options": null,
                "required_inputs": null,
                "selected": "Tool",
                "tool_mode": true,
                "types": [
                  "Tool"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "template": {
              "_type": "Component",
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "from langflow.custom import Component\r\nfrom langflow.io import Output, StrInput\r\nfrom langflow.schema.message import Message\r\nfrom langchain.tools import Tool\r\nfrom typing import Optional\r\nimport json\r\nfrom datetime import datetime\r\n\r\nclass SystemActionTool(Component):\r\n    display_name = \"System Action Tool\"\r\n    description = \"–≠–º—É–ª–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö\"\r\n    icon = \"settings\"\r\n    name = \"SystemAction\"\r\n    \r\n    outputs = [\r\n        Output(display_name=\"Tool\", name=\"tool_output\", method=\"build_tool\"),\r\n    ]\r\n\r\n    def execute_action(self, action_description: str) -> str:\r\n        \"\"\"\r\n        –í—ã–ø–æ–ª–Ω—è–µ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ\r\n        –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –∫–∞–∫ —Å—Ç—Ä–æ–∫—É\r\n        \"\"\"\r\n        timestamp = datetime.now().strftime('%H:%M:%S')\r\n        \r\n        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –¥–µ–π—Å—Ç–≤–∏—è –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è\r\n        action_lower = action_description.lower()\r\n        \r\n        if \"–ø–∞—Ä–æ–ª—å\" in action_lower or \"password\" in action_lower:\r\n            return f\"\"\"\r\n‚úÖ –ü–ê–†–û–õ–¨ –°–ë–†–û–®–ï–ù\r\n\r\n–î–µ–π—Å—Ç–≤–∏–µ: –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è\r\n–ù–æ–≤—ã–π –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ email\r\n–°—Ç–∞—Ç—É—Å: –í–´–ü–û–õ–ù–ï–ù–û\r\n–í—Ä–µ–º—è: {timestamp}\r\n\r\n‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ.\r\n\"\"\"\r\n        elif \"–¥–æ—Å—Ç—É–ø\" in action_lower or \"access\" in action_lower:\r\n            return f\"\"\"\r\n‚úÖ –î–û–°–¢–£–ü –ü–†–ï–î–û–°–¢–ê–í–õ–ï–ù\r\n\r\n–î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞\r\n–£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞: Read/Write\r\n–°—Ç–∞—Ç—É—Å: –í–´–ü–û–õ–ù–ï–ù–û\r\n–í—Ä–µ–º—è: {timestamp}\r\n\r\n‚úì –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø—è—Ç –≤ —Å–∏–ª—É –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç.\r\n\"\"\"\r\n        elif \"–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫\" in action_lower or \"restart\" in action_lower:\r\n            return f\"\"\"\r\n‚úÖ –°–ï–†–í–ò–° –ü–ï–†–ï–ó–ê–ü–£–©–ï–ù\r\n\r\n–î–µ–π—Å—Ç–≤–∏–µ: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞\r\n–í—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è: ~15 —Å–µ–∫—É–Ω–¥\r\n–°—Ç–∞—Ç—É—Å: –í–´–ü–û–õ–ù–ï–ù–û\r\n–í—Ä–µ–º—è: {timestamp}\r\n\r\n‚úì –°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —à—Ç–∞—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ.\r\n\"\"\"\r\n        elif \"—Ä–∞–∑–±–ª–æ–∫\" in action_lower or \"unlock\" in action_lower:\r\n            return f\"\"\"\r\n‚úÖ –ê–ö–ö–ê–£–ù–¢ –†–ê–ó–ë–õ–û–ö–ò–†–û–í–ê–ù\r\n\r\n–î–µ–π—Å—Ç–≤–∏–µ: –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞\r\n–°—á–µ—Ç—á–∏–∫ –ø–æ–ø—ã—Ç–æ–∫: –°–±—Ä–æ—à–µ–Ω\r\n–°—Ç–∞—Ç—É—Å: –ê–ö–¢–ò–í–ï–ù\r\n–í—Ä–µ–º—è: {timestamp}\r\n\r\n‚úì –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É.\r\n\"\"\"\r\n        else:\r\n            return f\"\"\"\r\n‚úÖ –î–ï–ô–°–¢–í–ò–ï –í–´–ü–û–õ–ù–ï–ù–û\r\n\r\n–û–ø–∏—Å–∞–Ω–∏–µ: {action_description}\r\n–°—Ç–∞—Ç—É—Å: –í–´–ü–û–õ–ù–ï–ù–û\r\n–í—Ä–µ–º—è: {timestamp}\r\n\r\n‚úì –û–ø–µ—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.\r\n\"\"\"\r\n    \r\n    def build_tool(self) -> Tool:\r\n        \"\"\"\r\n        –°–æ–∑–¥–∞–µ—Ç Tool –¥–ª—è Agent\r\n        \"\"\"\r\n        return Tool(\r\n            name=\"execute_system_action\",\r\n            description=(\r\n                \"–í—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö. \"\r\n                \"–í–ù–ò–ú–ê–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º! \"\r\n                \"–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞, —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞. \"\r\n                \"–í—Ö–æ–¥–Ω–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä: action_description - –æ–ø–∏—Å–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å (—Å—Ç—Ä–æ–∫–∞)\"\r\n            ),\r\n            func=self.execute_action,\r\n        )"
              }
            },
            "tool_mode": false
          },
          "showNode": true,
          "type": "SystemAction"
        },
        "dragging": false,
        "id": "SystemAction-fVbYV",
        "measured": {
          "height": 137,
          "width": 320
        },
        "position": {
          "x": 1430.98667544403,
          "y": 320.6500131238286
        },
        "selected": false,
        "type": "genericNode"
      },
      {
        "data": {
          "id": "ClassifyRequest-h3OKt",
          "node": {
            "base_classes": [
              "Tool"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {},
            "description": "–ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",
            "display_name": "Classify Request Tool",
            "documentation": "",
            "edited": true,
            "field_order": [],
            "frozen": false,
            "icon": "tag",
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": false,
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Tool",
                "group_outputs": false,
                "hidden": null,
                "method": "build_tool",
                "name": "tool_output",
                "options": null,
                "required_inputs": null,
                "selected": "Tool",
                "tool_mode": true,
                "types": [
                  "Tool"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "template": {
              "_type": "Component",
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "from langflow.custom import Component\r\nfrom langflow.io import Output, StrInput\r\nfrom langflow.schema.message import Message\r\nfrom langchain.tools import Tool\r\nfrom typing import Optional\r\nimport json\r\nfrom datetime import datetime\r\nimport re\r\n\r\nclass ClassifyRequestTool(Component):\r\n    display_name = \"Classify Request Tool\"\r\n    description = \"–ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\"\r\n    icon = \"tag\"\r\n    name = \"ClassifyRequest\"\r\n    \r\n    outputs = [\r\n        Output(display_name=\"Tool\", name=\"tool_output\", method=\"build_tool\"),\r\n    ]\r\n    \r\n    def classify(self, user_message: str) -> str:\r\n        \"\"\"\r\n        –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞—â–µ–Ω–∏—è —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π\r\n        \"\"\"\r\n        message_lower = user_message.lower()\r\n        \r\n        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏\r\n        categories = {\r\n            \"SYSTEM_ACTION\": {\r\n                \"keywords\": [\r\n                    \"—Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\", \"—Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è\", \"—Å–æ–∑–¥–∞—Ç—å —É—á–µ—Ç–Ω—É—é\", \r\n                    \"–ø–æ–ª—É—á–∏—Ç—å —É—á–µ—Ç–∫—É\", \"–≤—ã–¥–∞—Ç—å –¥–æ—Å—Ç—É–ø\", \"—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å\",\r\n                    \"–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å\", \"–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å\", \"–¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\",\r\n                    \"—É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\", \"—Å–±—Ä–æ—Å–∏—Ç—å 2fa\", \"—Å–±—Ä–æ—Å–∏—Ç—å –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é\"\r\n                ],\r\n                \"priority\": 1,  # –í—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç\r\n                \"require_confirmation\": True  # –¢—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è\r\n            },\r\n            \"HR_PROCESS\": {\r\n                \"keywords\": [\r\n                    \"–≥—Ä–∞—Ñ–∏–∫\", \"—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ\", \"—Å–º–µ–Ω–∞\", \"–æ—Ç–ø—É—Å–∫\", \"–±–æ–ª—å–Ω–∏—á–Ω—ã–π\", \r\n                    \"–∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞\", \"—É–≤–æ–ª—å–Ω–µ–Ω–∏–µ\", \"–ø–µ—Ä–µ–≤–æ–¥\", \"–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ\",\r\n                    \"–¥–µ–∫—Ä–µ—Ç\", \"–æ—Ç–≥—É–ª\", \"–≤—ã—Ö–æ–¥–Ω–æ–π\", \"–≤–Ω–µ—Å—Ç–∏ –ø—Ä–∞–≤–∫–∏\", \"–∏–∑–º–µ–Ω–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫\",\r\n                    \"–ø—Ä–∞–≤–∫–∏ –≤ –≥—Ä–∞—Ñ–∏–∫\", \"–∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ\"\r\n                ],\r\n                \"priority\": 2\r\n            },\r\n            \"EMPLOYEE_INFO\": {\r\n                \"keywords\": [\r\n                    \"–º–æ—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\", \"–º–æ–∏ –¥–∞–Ω–Ω—ã–µ\", \"–æ—Å—Ç–∞—Ç–æ–∫\", \"–º–æ–π —Å—Ç–∞—Ç—É—Å\",\r\n                    \"–º–æ—ë\", \"–º–æ—è\", \"–ø–æ–∫–∞–∂–∏\", \"—Å–∫–æ–ª—å–∫–æ —É –º–µ–Ω—è\", \"–º–æ–π –≥—Ä–∞—Ñ–∏–∫\",\r\n                    \"–º–æ—è –∑–∞—Ä–ø–ª–∞—Ç–∞\", \"–º–æ–∏ –æ—Ç–ø—É—Å–∫–∞\"\r\n                ],\r\n                \"priority\": 2\r\n            },\r\n            \"REQUEST_CREATE\": {\r\n                \"keywords\": [\r\n                    \"—Å–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É\", \"–æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞—è–≤–∫—É\", \"—Ö–æ—á—É —Å–æ–∑–¥–∞—Ç—å\",\r\n                    \"–Ω—É–∂–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç—å\", \"–ø–æ–¥–∞—Ç—å –∑–∞—è–≤–ª–µ–Ω–∏–µ\", \"—Ö–æ—á—É –≤–∑—è—Ç—å\",\r\n                    \"—Å–æ–∑–¥–∞–π –∑–∞—è–≤–∫—É\", \"–æ—Ñ–æ—Ä–º–∏ –∑–∞—è–≤–∫—É\"\r\n                ],\r\n                \"priority\": 2\r\n            },\r\n            \"REQUEST_STATUS\": {\r\n                \"keywords\": [\r\n                    \"—Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏\", \"–≥–¥–µ –º–æ—è –∑–∞—è–≤–∫–∞\", \"–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞—è–≤–∫—É\",\r\n                    \"req-\", \"–Ω–æ–º–µ—Ä –∑–∞—è–≤–∫–∏\", \"—Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–ª–µ–Ω–∏—è\"\r\n                ],\r\n                \"priority\": 2\r\n            },\r\n            \"TECHNICAL\": {\r\n                \"keywords\": [\r\n                    \"–∫–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å\", \"–∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å\", \"–∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å\",\r\n                    \"–Ω–µ –º–æ–≥—É –≤–æ–π—Ç–∏\", \"–æ—à–∏–±–∫–∞\", \"–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç\", \r\n                    \"–ø—Ä–æ–±–ª–µ–º–∞ —Å\", \"—á—Ç–æ –¥–µ–ª–∞—Ç—å\", \"–ø–æ–º–æ–≥–∏—Ç–µ\", \"–∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å\"\r\n                ],\r\n                \"priority\": 3\r\n            },\r\n            \"POLICY\": {\r\n                \"keywords\": [\r\n                    \"–ø—Ä–∞–≤–∏–ª–∞\", \"–ø–æ–ª–∏—Ç–∏–∫–∞\", \"—Ä–µ–≥–ª–∞–º–µ–Ω—Ç\", \"–º–æ–∂–Ω–æ –ª–∏\", \r\n                    \"—Ä–∞–∑—Ä–µ—à–µ–Ω–æ –ª–∏\", \"–ø–æ–ª–æ–∂–µ–Ω–æ\"\r\n                ],\r\n                \"priority\": 3\r\n            },\r\n            \"EXTERNAL_SEARCH\": {\r\n                \"keywords\": [\r\n                    \"–Ω–∞–π–¥–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ\", \"—á—Ç–æ –ø–∏—à—É—Ç\", \"–ø–æ–≥—É–≥–ª–∏\", \r\n                    \"–ø–æ–∏—â–∏ –≤ —Å–µ—Ç–∏\", \"–Ω–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é\"\r\n                ],\r\n                \"priority\": 2\r\n            }\r\n        }\r\n        \r\n        detected_category = \"GENERAL\"\r\n        confidence = 0.5\r\n        max_matches = 0\r\n        require_confirmation = False\r\n        \r\n        # –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –†–∞–∑–ª–∏—á–∞–µ–º \"—Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\" vs \"–∫–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\"\r\n        has_how_question = any(word in message_lower for word in [\"–∫–∞–∫\", \"what\", \"how\", \"–∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º\"])\r\n        has_action_verb = any(word in message_lower for word in [\"—Å–±—Ä–æ—Å–∏—Ç—å\", \"—Å–æ–∑–¥–∞—Ç—å\", \"–≤—ã–¥–∞—Ç—å\", \"—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å\", \"–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å\"])\r\n        \r\n        # –ï—Å–ª–∏ –µ—Å—Ç—å \"–∫–∞–∫\" + –≥–ª–∞–≥–æ–ª –¥–µ–π—Å—Ç–≤–∏—è ‚Üí —ç—Ç–æ –≤–æ–ø—Ä–æ—Å (TECHNICAL), –∞ –Ω–µ –¥–µ–π—Å—Ç–≤–∏–µ\r\n        if has_how_question and has_action_verb:\r\n            detected_category = \"TECHNICAL\"\r\n            confidence = 0.85\r\n            self.log(f\"Detected HOW question: {message_lower}\")\r\n        else:\r\n            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É\r\n            for category, config in sorted(categories.items(), key=lambda x: x[1][\"priority\"]):\r\n                matches = 0\r\n                for keyword in config[\"keywords\"]:\r\n                    if keyword in message_lower:\r\n                        matches += 1\r\n                \r\n                if matches > max_matches:\r\n                    max_matches = matches\r\n                    detected_category = category\r\n                    confidence = min(0.95, 0.6 + (matches * 0.15))\r\n                    require_confirmation = config.get(\"require_confirmation\", False)\r\n                    break  # –ë–µ—Ä–µ–º –ø–µ—Ä–≤—É—é –Ω–∞–π–¥–µ–Ω–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Å –≤—ã—Å—à–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º\r\n        \r\n        # –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –æ—Å—Ç–∞–µ—Ç—Å—è GENERAL —Å –Ω–∏–∑–∫–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é\r\n        if detected_category == \"GENERAL\":\r\n            confidence = 0.5\r\n        \r\n        # –§–æ—Ä–º–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç\r\n        priority_level = \"–í—ã—Å–æ–∫–∏–π\" if confidence > 0.8 else \"–°—Ä–µ–¥–Ω–∏–π\" if confidence > 0.6 else \"–ù–∏–∑–∫–∏–π\"\r\n        recommendation = \"\"\r\n        \r\n        if confidence > 0.7:\r\n            recommendation = \"‚úì –í—ã—Å–æ–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏\"\r\n        else:\r\n            recommendation = \"‚ö†Ô∏è –ù–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —ç—Å–∫–∞–ª–∞—Ü–∏—è\"\r\n        \r\n        if require_confirmation:\r\n            recommendation += \"\\n‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –¥–µ–π—Å—Ç–≤–∏—è!\"\r\n        \r\n        result = f\"\"\"\r\nüìã –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–Ø –û–ë–†–ê–©–ï–ù–ò–Ø\r\n\r\n–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {detected_category}\r\n–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {confidence:.0%}\r\n–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: {priority_level}\r\n\r\n–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: {recommendation}\r\n\"\"\"\r\n        \r\n        self.log(f\"Classification: {detected_category} (confidence: {confidence:.2f}, matches: {max_matches})\")\r\n        self.log(f\"Original message: {user_message}\")\r\n        \r\n        return result\r\n    \r\n    def build_tool(self) -> Tool:\r\n        \"\"\"\r\n        –°–æ–∑–¥–∞–µ—Ç Tool –¥–ª—è Agent\r\n        \"\"\"\r\n        return Tool(\r\n            name=\"classify_request\",\r\n            description=(\r\n                \"‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –ü–ï–†–í–´–ô –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ö–ê–ñ–î–û–ì–û –∑–∞–ø—Ä–æ—Å–∞! ‚ö†Ô∏è\\n\\n\"\r\n                \"–ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏.\\n\\n\"\r\n                \"–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:\\n\"\r\n                \"- HR_PROCESS: –≤–æ–ø—Ä–æ—Å—ã –æ –≥—Ä–∞—Ñ–∏–∫–∞—Ö, –æ—Ç–ø—É—Å–∫–∞—Ö, –±–æ–ª—å–Ω–∏—á–Ω—ã—Ö\\n\"\r\n                \"- EMPLOYEE_INFO: –∑–∞–ø—Ä–æ—Å—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ–±–µ\\n\"\r\n                \"- REQUEST_CREATE: —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫\\n\"\r\n                \"- REQUEST_STATUS: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–æ–∫\\n\"\r\n                \"- SYSTEM_ACTION: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π (—Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è, —Å–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–æ–∫) - —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è!\\n\"\r\n                \"- TECHNICAL: –≤–æ–ø—Ä–æ—Å—ã '–∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å', —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã\\n\"\r\n                \"- POLICY: –≤–æ–ø—Ä–æ—Å—ã –æ –ø—Ä–∞–≤–∏–ª–∞—Ö –∏ –ø–æ–ª–∏—Ç–∏–∫–∞—Ö\\n\"\r\n                \"- EXTERNAL_SEARCH: –ø–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ\\n\"\r\n                \"- GENERAL: –æ–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã\\n\\n\"\r\n                \"–í–ê–ñ–ù–û: –†–∞–∑–ª–∏—á–∞–µ—Ç '—Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å' (SYSTEM_ACTION) –∏ '–∫–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å' (TECHNICAL)\\n\\n\"\r\n                \"–í—Ö–æ–¥–Ω–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä: user_message - —Ç–µ–∫—Å—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å—Ç—Ä–æ–∫–∞)\"\r\n            ),\r\n            func=self.classify,\r\n        )"
              }
            },
            "tool_mode": false
          },
          "showNode": true,
          "type": "ClassifyRequest"
        },
        "dragging": false,
        "id": "ClassifyRequest-h3OKt",
        "measured": {
          "height": 137,
          "width": 320
        },
        "position": {
          "x": 1865.7810516605755,
          "y": 27.87277454092439
        },
        "selected": false,
        "type": "genericNode"
      },
      {
        "data": {
          "id": "Agent-SD69D",
          "node": {
            "base_classes": [
              "Message"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {},
            "description": "Define the agent's instructions, then enter a task to complete using tools.",
            "display_name": "Agent",
            "documentation": "https://docs.langflow.org/agents",
            "edited": true,
            "field_order": [
              "agent_llm",
              "max_tokens",
              "model_kwargs",
              "json_mode",
              "model_name",
              "openai_api_base",
              "api_key",
              "temperature",
              "seed",
              "max_retries",
              "timeout",
              "custom_base_url",
              "custom_api_key",
              "custom_model_name",
              "system_prompt",
              "n_messages",
              "tools",
              "input_value",
              "handle_parsing_errors",
              "verbose",
              "max_iterations",
              "agent_description",
              "add_current_date_tool"
            ],
            "frozen": false,
            "icon": "bot",
            "last_updated": "2025-10-18T11:31:20.025Z",
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": false,
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Response",
                "group_outputs": false,
                "hidden": null,
                "method": "message_response",
                "name": "response",
                "options": null,
                "required_inputs": null,
                "selected": "Message",
                "tool_mode": true,
                "types": [
                  "Message"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "template": {
              "_type": "Component",
              "add_current_date_tool": {
                "_input_type": "BoolInput",
                "advanced": true,
                "display_name": "Current Date",
                "dynamic": false,
                "info": "If true, will add a tool to the agent that returns the current date.",
                "input_types": [],
                "list": false,
                "list_add_label": "Add More",
                "name": "add_current_date_tool",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "bool",
                "value": true
              },
              "agent_description": {
                "_input_type": "MultilineInput",
                "advanced": true,
                "copy_field": false,
                "display_name": "Agent Description [Deprecated]",
                "dynamic": false,
                "info": "The description of the agent. This is only used when in Tool Mode. Defaults to 'A helpful assistant with access to the following tools:' and tools are added dynamically. This feature is deprecated and will be removed in future versions.",
                "input_types": [
                  "Message"
                ],
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "multiline": true,
                "name": "agent_description",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_input": true,
                "trace_as_metadata": true,
                "type": "str",
                "value": "A helpful assistant with access to the following tools:"
              },
              "agent_llm": {
                "_input_type": "DropdownInput",
                "advanced": false,
                "combobox": false,
                "dialog_inputs": {},
                "display_name": "Language Model",
                "dynamic": false,
                "external_options": {},
                "info": "",
                "input_types": [
                  "LanguageModel"
                ],
                "name": "agent_llm",
                "options": [
                  "Anthropic",
                  "Google Generative AI",
                  "OpenAI",
                  "Custom"
                ],
                "options_metadata": [
                  {
                    "icon": "Anthropic"
                  },
                  {
                    "icon": "GoogleGenerativeAI"
                  },
                  {
                    "icon": "OpenAI"
                  },
                  {
                    "icon": "brain"
                  }
                ],
                "placeholder": "",
                "real_time_refresh": true,
                "required": false,
                "show": true,
                "title_case": false,
                "toggle": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "str",
                "value": "Custom"
              },
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "input_types": [],
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "from langchain_core.tools import StructuredTool\r\n\r\nfrom langflow.base.agents.agent import LCToolsAgentComponent\r\nfrom langflow.base.agents.events import ExceptionWithMessageError\r\nfrom langflow.base.models.model_input_constants import (\r\n    ALL_PROVIDER_FIELDS,\r\n    MODEL_DYNAMIC_UPDATE_FIELDS,\r\n    MODEL_PROVIDERS,\r\n    MODEL_PROVIDERS_DICT,\r\n    MODELS_METADATA,\r\n)\r\nfrom langflow.base.models.model_utils import get_model_name\r\nfrom langflow.components.helpers.current_date import CurrentDateComponent\r\nfrom langflow.components.helpers.memory import MemoryComponent\r\nfrom langflow.components.langchain_utilities.tool_calling import ToolCallingAgentComponent\r\nfrom langflow.custom.custom_component.component import _get_component_toolkit\r\nfrom langflow.custom.utils import update_component_build_config\r\nfrom langflow.field_typing import Tool\r\nfrom langflow.io import BoolInput, DropdownInput, IntInput, MultilineInput, Output, SecretStrInput, StrInput\r\nfrom langflow.logging import logger\r\nfrom langflow.schema.dotdict import dotdict\r\nfrom langflow.schema.message import Message\r\n\r\n\r\ndef set_advanced_true(component_input):\r\n    component_input.advanced = True\r\n    return component_input\r\n\r\n\r\n# –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏–∑ MODEL_PROVIDERS_DICT\r\nMODEL_PROVIDERS_LIST = [\r\n    provider for provider in [\"Anthropic\", \"Google Generative AI\", \"Groq\", \"OpenAI\"]\r\n    if provider in MODEL_PROVIDERS_DICT\r\n]\r\n\r\n# –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã\r\nif not MODEL_PROVIDERS_LIST:\r\n    MODEL_PROVIDERS_LIST = list(MODEL_PROVIDERS_DICT.keys())\r\n\r\n\r\nclass AgentComponent(ToolCallingAgentComponent):\r\n    display_name: str = \"Agent\"\r\n    description: str = \"Define the agent's instructions, then enter a task to complete using tools.\"\r\n    documentation: str = \"https://docs.langflow.org/agents\"\r\n    icon = \"bot\"\r\n    beta = False\r\n    name = \"Agent\"\r\n\r\n    memory_inputs = [set_advanced_true(component_input) for component_input in MemoryComponent().inputs]\r\n\r\n    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –≤—Ö–æ–¥—ã –∑–∞—Ä–∞–Ω–µ–µ\r\n    _default_provider = \"OpenAI\" if \"OpenAI\" in MODEL_PROVIDERS_LIST else (MODEL_PROVIDERS_LIST[0] if MODEL_PROVIDERS_LIST else \"Custom\")\r\n    _default_inputs = MODEL_PROVIDERS_DICT[_default_provider][\"inputs\"] if _default_provider in MODEL_PROVIDERS_DICT else []\r\n    _options_metadata = [MODELS_METADATA[key] for key in MODEL_PROVIDERS_LIST if key in MODELS_METADATA] + [{\"icon\": \"brain\"}]\r\n\r\n    inputs = [\r\n        DropdownInput(\r\n            name=\"agent_llm\",\r\n            display_name=\"Model Provider\",\r\n            info=\"The provider of the language model that the agent will use to generate responses.\",\r\n            options=[*MODEL_PROVIDERS_LIST, \"Custom\"],\r\n            value=_default_provider,\r\n            real_time_refresh=True,\r\n            input_types=[],\r\n            options_metadata=_options_metadata,\r\n        ),\r\n        *_default_inputs,\r\n        # –ü–æ–ª—è –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ API (YandexGPT)\r\n        StrInput(\r\n            name=\"custom_base_url\",\r\n            display_name=\"Custom Base URL\",\r\n            info=\"Base URL for OpenAI-compatible API (e.g., https://llm.api.cloud.yandex.net/v1 for YandexGPT)\",\r\n            value=\"\",\r\n            advanced=True,\r\n        ),\r\n        SecretStrInput(\r\n            name=\"custom_api_key\",\r\n            display_name=\"Custom API Key\",\r\n            info=\"API key for custom OpenAI-compatible endpoint\",\r\n            value=\"\",\r\n            advanced=True,\r\n        ),\r\n        StrInput(\r\n            name=\"custom_model_name\",\r\n            display_name=\"Custom Model Name\",\r\n            info=\"Model identifier (e.g., gpt://b1gbknonr2fm4ss0se7a/qwen3-235b-a22b-fp8/latest for YandexGPT)\",\r\n            value=\"\",\r\n            advanced=True,\r\n        ),\r\n        MultilineInput(\r\n            name=\"system_prompt\",\r\n            display_name=\"Agent Instructions\",\r\n            info=\"System Prompt: Initial instructions and context provided to guide the agent's behavior.\",\r\n            value=\"You are a helpful assistant that can use tools to answer questions and perform tasks.\",\r\n            advanced=False,\r\n        ),\r\n        IntInput(\r\n            name=\"n_messages\",\r\n            display_name=\"Number of Chat History Messages\",\r\n            value=100,\r\n            info=\"Number of chat history messages to retrieve.\",\r\n            advanced=True,\r\n            show=True,\r\n        ),\r\n        *LCToolsAgentComponent._base_inputs,\r\n        BoolInput(\r\n            name=\"add_current_date_tool\",\r\n            display_name=\"Current Date\",\r\n            advanced=True,\r\n            info=\"If true, will add a tool to the agent that returns the current date.\",\r\n            value=True,\r\n        ),\r\n    ]\r\n    outputs = [Output(name=\"response\", display_name=\"Response\", method=\"message_response\")]\r\n\r\n    async def message_response(self) -> Message:\r\n        try:\r\n            # Get LLM model and validate\r\n            llm_model, display_name = self.get_llm()\r\n            if llm_model is None:\r\n                msg = \"No language model selected. Please choose a model to proceed.\"\r\n                raise ValueError(msg)\r\n            self.model_name = get_model_name(llm_model, display_name=display_name)\r\n\r\n            # Get memory data\r\n            self.chat_history = await self.get_memory_data()\r\n            if isinstance(self.chat_history, Message):\r\n                self.chat_history = [self.chat_history]\r\n\r\n            # Add current date tool if enabled\r\n            if self.add_current_date_tool:\r\n                if not isinstance(self.tools, list):  # type: ignore[has-type]\r\n                    self.tools = []\r\n                current_date_tool = (await CurrentDateComponent(**self.get_base_args()).to_toolkit()).pop(0)\r\n                if not isinstance(current_date_tool, StructuredTool):\r\n                    msg = \"CurrentDateComponent must be converted to a StructuredTool\"\r\n                    raise TypeError(msg)\r\n                self.tools.append(current_date_tool)\r\n\r\n            # Set up and run agent\r\n            self.set(\r\n                llm=llm_model,\r\n                tools=self.tools or [],\r\n                chat_history=self.chat_history,\r\n                input_value=self.input_value,\r\n                system_prompt=self.system_prompt,\r\n            )\r\n            agent = self.create_agent_runnable()\r\n            return await self.run_agent(agent)\r\n\r\n        except (ValueError, TypeError, KeyError) as e:\r\n            logger.error(f\"{type(e).__name__}: {e!s}\")\r\n            raise\r\n        except ExceptionWithMessageError as e:\r\n            logger.error(f\"ExceptionWithMessageError occurred: {e}\")\r\n            raise\r\n        except Exception as e:\r\n            logger.error(f\"Unexpected error: {e!s}\")\r\n            raise\r\n\r\n    async def get_memory_data(self):\r\n        messages = (\r\n            await MemoryComponent(**self.get_base_args())\r\n            .set(session_id=self.graph.session_id, order=\"Ascending\", n_messages=self.n_messages)\r\n            .retrieve_messages()\r\n        )\r\n        return [\r\n            message for message in messages if getattr(message, \"id\", None) != getattr(self.input_value, \"id\", None)\r\n        ]\r\n\r\n    def get_llm(self):\r\n        if not isinstance(self.agent_llm, str):\r\n            return self.agent_llm, None\r\n    \r\n        try:\r\n            # –û–±—Ä–∞–±–æ—Ç–∫–∞ Custom –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (YandexGPT –∏ –¥—Ä—É–≥–∏–µ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ API)\r\n            if self.agent_llm == \"Custom\":\r\n                # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã\r\n                if not self.custom_base_url or not self.custom_api_key or not self.custom_model_name:\r\n                    msg = \"For Custom provider, please fill in: Custom Base URL, Custom API Key, and Custom Model Name\"\r\n                    raise ValueError(msg)\r\n                \r\n                # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞–ø—Ä—è–º—É—é ChatOpenAI –∏–∑ langchain\r\n                from langchain_openai import ChatOpenAI\r\n                \r\n                # –°–æ–∑–¥–∞–µ–º –º–æ–¥–µ–ª—å –Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ OpenAI\r\n                # –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –æ–±–æ–π—Ç–∏ –ª—é–±—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–≥–∏–æ–Ω–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ\r\n                model = ChatOpenAI(\r\n                    base_url=self.custom_base_url,\r\n                    api_key=self.custom_api_key,\r\n                    model=self.custom_model_name,  # –∏—Å–ø–æ–ª—å–∑—É–µ–º 'model', –∞ –Ω–µ 'model_name'\r\n                    temperature=0.1,\r\n                    max_retries=2,\r\n                    timeout=60,\r\n                    # –î–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–±—Ö–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫\r\n                    default_headers={\r\n                        \"User-Agent\": \"langflow-custom-client\"\r\n                    }\r\n                )\r\n                \r\n                return model, \"Custom OpenAI-compatible API\"\r\n            \r\n            # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (OpenAI, Anthropic –∏ —Ç.–¥.)\r\n            provider_info = MODEL_PROVIDERS_DICT.get(self.agent_llm)\r\n            if not provider_info:\r\n                if self.agent_llm in MODEL_PROVIDERS_LIST:\r\n                    msg = f\"Provider '{self.agent_llm}' is available but not properly configured in MODEL_PROVIDERS_DICT\"\r\n                else:\r\n                    msg = f\"Invalid model provider: {self.agent_llm}. Available providers: {', '.join(MODEL_PROVIDERS_LIST)}\"\r\n                raise ValueError(msg)\r\n    \r\n            component_class = provider_info.get(\"component_class\")\r\n            display_name = component_class.display_name if component_class else None\r\n            inputs = provider_info.get(\"inputs\", [])\r\n            prefix = provider_info.get(\"prefix\", \"\")\r\n    \r\n            return self._build_llm_model(component_class, inputs, prefix), display_name\r\n    \r\n        except Exception as e:\r\n            logger.error(f\"Error building {self.agent_llm} language model: {e!s}\")\r\n            msg = f\"Failed to initialize language model: {e!s}\"\r\n            raise ValueError(msg) from e\r\n\r\n    def set_component_params(self, component):\r\n        provider_info = MODEL_PROVIDERS_DICT.get(self.agent_llm)\r\n        if provider_info:\r\n            inputs = provider_info.get(\"inputs\", [])\r\n            prefix = provider_info.get(\"prefix\", \"\")\r\n            model_kwargs = {input_.name: getattr(self, f\"{prefix}{input_.name}\") for input_ in inputs if hasattr(self, f\"{prefix}{input_.name}\")}\r\n\r\n            return component.set(**model_kwargs)\r\n        return component\r\n\r\n    def delete_fields(self, build_config: dotdict, fields: dict | list[str]) -> None:\r\n        \"\"\"Delete specified fields from build_config.\"\"\"\r\n        for field in fields:\r\n            build_config.pop(field, None)\r\n\r\n    def update_input_types(self, build_config: dotdict) -> dotdict:\r\n        \"\"\"Update input types for all fields in build_config.\"\"\"\r\n        for key, value in build_config.items():\r\n            if isinstance(value, dict):\r\n                if value.get(\"input_types\") is None:\r\n                    build_config[key][\"input_types\"] = []\r\n            elif hasattr(value, \"input_types\") and value.input_types is None:\r\n                value.input_types = []\r\n        return build_config\r\n\r\n    async def update_build_config(\r\n        self, build_config: dotdict, field_value: str, field_name: str | None = None\r\n    ) -> dotdict:\r\n        if field_name in (\"agent_llm\",):\r\n            build_config[\"agent_llm\"][\"value\"] = field_value\r\n            provider_info = MODEL_PROVIDERS_DICT.get(field_value)\r\n            if provider_info:\r\n                component_class = provider_info.get(\"component_class\")\r\n                if component_class and hasattr(component_class, \"update_build_config\"):\r\n                    build_config = await update_component_build_config(\r\n                        component_class, build_config, field_value, \"model_name\"\r\n                    )\r\n\r\n            provider_configs: dict[str, tuple[dict, list[dict]]] = {\r\n                provider: (\r\n                    MODEL_PROVIDERS_DICT[provider][\"fields\"],\r\n                    [\r\n                        MODEL_PROVIDERS_DICT[other_provider][\"fields\"]\r\n                        for other_provider in MODEL_PROVIDERS_DICT\r\n                        if other_provider != provider\r\n                    ],\r\n                )\r\n                for provider in MODEL_PROVIDERS_DICT\r\n            }\r\n            if field_value in provider_configs:\r\n                fields_to_add, fields_to_delete = provider_configs[field_value]\r\n\r\n                for fields in fields_to_delete:\r\n                    self.delete_fields(build_config, fields)\r\n\r\n                if field_value == \"OpenAI\" and not any(field in build_config for field in fields_to_add):\r\n                    build_config.update(fields_to_add)\r\n                else:\r\n                    build_config.update(fields_to_add)\r\n                build_config[\"agent_llm\"][\"input_types\"] = []\r\n            elif field_value == \"Custom\":\r\n                self.delete_fields(build_config, ALL_PROVIDER_FIELDS)\r\n                custom_component = DropdownInput(\r\n                    name=\"agent_llm\",\r\n                    display_name=\"Language Model\",\r\n                    options=[*sorted(MODEL_PROVIDERS), \"Custom\"],\r\n                    value=\"Custom\",\r\n                    real_time_refresh=True,\r\n                    input_types=[\"LanguageModel\"],\r\n                    options_metadata=[MODELS_METADATA[key] for key in sorted(MODELS_METADATA.keys()) if key in MODELS_METADATA]\r\n                    + [{\"icon\": \"brain\"}],\r\n                )\r\n                build_config.update({\"agent_llm\": custom_component.to_dict()})\r\n            build_config = self.update_input_types(build_config)\r\n\r\n            default_keys = [\r\n                \"code\",\r\n                \"_type\",\r\n                \"agent_llm\",\r\n                \"tools\",\r\n                \"input_value\",\r\n                \"add_current_date_tool\",\r\n                \"system_prompt\",\r\n                \"agent_description\",\r\n                \"max_iterations\",\r\n                \"handle_parsing_errors\",\r\n                \"verbose\",\r\n            ]\r\n            missing_keys = [key for key in default_keys if key not in build_config]\r\n            if missing_keys:\r\n                msg = f\"Missing required keys in build_config: {missing_keys}\"\r\n                raise ValueError(msg)\r\n        if (\r\n            isinstance(self.agent_llm, str)\r\n            and self.agent_llm in MODEL_PROVIDERS_DICT\r\n            and field_name in MODEL_DYNAMIC_UPDATE_FIELDS\r\n        ):\r\n            provider_info = MODEL_PROVIDERS_DICT.get(self.agent_llm)\r\n            if provider_info:\r\n                component_class = provider_info.get(\"component_class\")\r\n                component_class = self.set_component_params(component_class)\r\n                prefix = provider_info.get(\"prefix\", \"\")\r\n                if component_class and hasattr(component_class, \"update_build_config\"):\r\n                    if isinstance(field_name, str) and isinstance(prefix, str):\r\n                        field_name = field_name.replace(prefix, \"\")\r\n                    build_config = await update_component_build_config(\r\n                        component_class, build_config, field_value, \"model_name\"\r\n                    )\r\n        return dotdict({k: v.to_dict() if hasattr(v, \"to_dict\") else v for k, v in build_config.items()})\r\n\r\n    async def _get_tools(self) -> list[Tool]:\r\n        component_toolkit = _get_component_toolkit()\r\n        tools_names = self._build_tools_names()\r\n        agent_description = self.get_tool_description()\r\n        description = f\"{agent_description}{tools_names}\"\r\n        tools = component_toolkit(component=self).get_tools(\r\n            tool_name=\"Call_Agent\", tool_description=description, callbacks=self.get_langchain_callbacks()\r\n        )\r\n        if hasattr(self, \"tools_metadata\"):\r\n            tools = component_toolkit(component=self, metadata=self.tools_metadata).update_tools_metadata(tools=tools)\r\n        return tools"
              },
              "custom_api_key": {
                "_input_type": "SecretStrInput",
                "advanced": false,
                "display_name": "Custom API Key",
                "dynamic": false,
                "info": "API key for custom OpenAI-compatible endpoint",
                "input_types": [],
                "load_from_db": false,
                "name": "custom_api_key",
                "password": true,
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "type": "str",
                "value": ""
              },
              "custom_base_url": {
                "_input_type": "StrInput",
                "advanced": false,
                "display_name": "Custom Base URL",
                "dynamic": false,
                "info": "Base URL for OpenAI-compatible API (e.g., https://llm.api.cloud.yandex.net/v1 for YandexGPT)",
                "input_types": [],
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "name": "custom_base_url",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "str",
                "value": "https://llm.api.cloud.yandex.net/v1"
              },
              "custom_model_name": {
                "_input_type": "StrInput",
                "advanced": false,
                "display_name": "Custom Model Name",
                "dynamic": false,
                "info": "Model identifier (e.g., gpt://b1gbknonr2fm4ss0se7a/qwen3-235b-a22b-fp8/latest for YandexGPT)",
                "input_types": [],
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "name": "custom_model_name",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "str",
                "value": "gpt://b1gbknonr2fm4ss0se7a/gpt-oss-20b/latest"
              },
              "handle_parsing_errors": {
                "_input_type": "BoolInput",
                "advanced": true,
                "display_name": "Handle Parse Errors",
                "dynamic": false,
                "info": "Should the Agent fix errors when reading user input for better processing?",
                "input_types": [],
                "list": false,
                "list_add_label": "Add More",
                "name": "handle_parsing_errors",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "bool",
                "value": true
              },
              "input_value": {
                "_input_type": "MessageInput",
                "advanced": false,
                "display_name": "Input",
                "dynamic": false,
                "info": "The input provided by the user for the agent to process.",
                "input_types": [
                  "Message"
                ],
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "name": "input_value",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": true,
                "trace_as_input": true,
                "trace_as_metadata": true,
                "type": "str",
                "value": ""
              },
              "max_iterations": {
                "_input_type": "IntInput",
                "advanced": true,
                "display_name": "Max Iterations",
                "dynamic": false,
                "info": "The maximum number of attempts the agent can make to complete its task before it stops.",
                "input_types": [],
                "list": false,
                "list_add_label": "Add More",
                "name": "max_iterations",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "int",
                "value": 15
              },
              "n_messages": {
                "_input_type": "IntInput",
                "advanced": true,
                "display_name": "Number of Chat History Messages",
                "dynamic": false,
                "info": "Number of chat history messages to retrieve.",
                "input_types": [],
                "list": false,
                "list_add_label": "Add More",
                "name": "n_messages",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "int",
                "value": 100
              },
              "system_prompt": {
                "_input_type": "MultilineInput",
                "advanced": false,
                "copy_field": false,
                "display_name": "Agent Instructions",
                "dynamic": false,
                "info": "System Prompt: Initial instructions and context provided to guide the agent's behavior.",
                "input_types": [
                  "Message"
                ],
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "multiline": true,
                "name": "system_prompt",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_input": true,
                "trace_as_metadata": true,
                "type": "str",
                "value": "You are a helpful assistant that can use tools to answer questions and perform tasks."
              },
              "tools": {
                "_input_type": "HandleInput",
                "advanced": false,
                "display_name": "Tools",
                "dynamic": false,
                "info": "These are the tools that the agent can use to help with tasks.",
                "input_types": [
                  "Tool"
                ],
                "list": true,
                "list_add_label": "Add More",
                "name": "tools",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "trace_as_metadata": true,
                "type": "other",
                "value": ""
              },
              "verbose": {
                "_input_type": "BoolInput",
                "advanced": true,
                "display_name": "Verbose",
                "dynamic": false,
                "info": "",
                "input_types": [],
                "list": false,
                "list_add_label": "Add More",
                "name": "verbose",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "bool",
                "value": true
              }
            },
            "tool_mode": false
          },
          "showNode": true,
          "type": "Agent"
        },
        "dragging": false,
        "id": "Agent-SD69D",
        "measured": {
          "height": 673,
          "width": 320
        },
        "position": {
          "x": 3949.632166174068,
          "y": -343.5994306403219
        },
        "selected": false,
        "type": "genericNode"
      },
      {
        "data": {
          "id": "URLComponent-MKrOi",
          "node": {
            "base_classes": [
              "DataFrame",
              "Message"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {},
            "description": "Fetch content from one or more web pages, following links recursively.",
            "display_name": "URL",
            "documentation": "https://docs.langflow.org/components-data#url",
            "edited": false,
            "field_order": [
              "urls",
              "max_depth",
              "prevent_outside",
              "use_async",
              "format",
              "timeout",
              "headers",
              "filter_text_html",
              "continue_on_failure",
              "check_response_status",
              "autoset_encoding"
            ],
            "frozen": false,
            "icon": "layout-template",
            "last_updated": "2025-10-19T00:13:29.348Z",
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": false,
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Toolset",
                "group_outputs": false,
                "hidden": null,
                "method": "to_toolkit",
                "name": "component_as_tool",
                "options": null,
                "required_inputs": null,
                "selected": "Tool",
                "tool_mode": true,
                "types": [
                  "Tool"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "template": {
              "_type": "Component",
              "autoset_encoding": {
                "_input_type": "BoolInput",
                "advanced": true,
                "display_name": "Autoset Encoding",
                "dynamic": false,
                "info": "If enabled, automatically sets the encoding of the request.",
                "list": false,
                "list_add_label": "Add More",
                "name": "autoset_encoding",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "bool",
                "value": true
              },
              "check_response_status": {
                "_input_type": "BoolInput",
                "advanced": true,
                "display_name": "Check Response Status",
                "dynamic": false,
                "info": "If enabled, checks the response status of the request.",
                "list": false,
                "list_add_label": "Add More",
                "name": "check_response_status",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "bool",
                "value": false
              },
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "import re\n\nimport requests\nfrom bs4 import BeautifulSoup\nfrom langchain_community.document_loaders import RecursiveUrlLoader\n\nfrom langflow.custom.custom_component.component import Component\nfrom langflow.field_typing.range_spec import RangeSpec\nfrom langflow.helpers.data import safe_convert\nfrom langflow.io import BoolInput, DropdownInput, IntInput, MessageTextInput, Output, SliderInput, TableInput\nfrom langflow.logging.logger import logger\nfrom langflow.schema.dataframe import DataFrame\nfrom langflow.schema.message import Message\nfrom langflow.services.deps import get_settings_service\n\n# Constants\nDEFAULT_TIMEOUT = 30\nDEFAULT_MAX_DEPTH = 1\nDEFAULT_FORMAT = \"Text\"\nURL_REGEX = re.compile(\n    r\"^(https?:\\/\\/)?\" r\"(www\\.)?\" r\"([a-zA-Z0-9.-]+)\" r\"(\\.[a-zA-Z]{2,})?\" r\"(:\\d+)?\" r\"(\\/[^\\s]*)?$\",\n    re.IGNORECASE,\n)\n\n\nclass URLComponent(Component):\n    \"\"\"A component that loads and parses content from web pages recursively.\n\n    This component allows fetching content from one or more URLs, with options to:\n    - Control crawl depth\n    - Prevent crawling outside the root domain\n    - Use async loading for better performance\n    - Extract either raw HTML or clean text\n    - Configure request headers and timeouts\n    \"\"\"\n\n    display_name = \"URL\"\n    description = \"Fetch content from one or more web pages, following links recursively.\"\n    documentation: str = \"https://docs.langflow.org/components-data#url\"\n    icon = \"layout-template\"\n    name = \"URLComponent\"\n\n    inputs = [\n        MessageTextInput(\n            name=\"urls\",\n            display_name=\"URLs\",\n            info=\"Enter one or more URLs to crawl recursively, by clicking the '+' button.\",\n            is_list=True,\n            tool_mode=True,\n            placeholder=\"Enter a URL...\",\n            list_add_label=\"Add URL\",\n            input_types=[],\n        ),\n        SliderInput(\n            name=\"max_depth\",\n            display_name=\"Depth\",\n            info=(\n                \"Controls how many 'clicks' away from the initial page the crawler will go:\\n\"\n                \"- depth 1: only the initial page\\n\"\n                \"- depth 2: initial page + all pages linked directly from it\\n\"\n                \"- depth 3: initial page + direct links + links found on those direct link pages\\n\"\n                \"Note: This is about link traversal, not URL path depth.\"\n            ),\n            value=DEFAULT_MAX_DEPTH,\n            range_spec=RangeSpec(min=1, max=5, step=1),\n            required=False,\n            min_label=\" \",\n            max_label=\" \",\n            min_label_icon=\"None\",\n            max_label_icon=\"None\",\n            # slider_input=True\n        ),\n        BoolInput(\n            name=\"prevent_outside\",\n            display_name=\"Prevent Outside\",\n            info=(\n                \"If enabled, only crawls URLs within the same domain as the root URL. \"\n                \"This helps prevent the crawler from going to external websites.\"\n            ),\n            value=True,\n            required=False,\n            advanced=True,\n        ),\n        BoolInput(\n            name=\"use_async\",\n            display_name=\"Use Async\",\n            info=(\n                \"If enabled, uses asynchronous loading which can be significantly faster \"\n                \"but might use more system resources.\"\n            ),\n            value=True,\n            required=False,\n            advanced=True,\n        ),\n        DropdownInput(\n            name=\"format\",\n            display_name=\"Output Format\",\n            info=\"Output Format. Use 'Text' to extract the text from the HTML or 'HTML' for the raw HTML content.\",\n            options=[\"Text\", \"HTML\"],\n            value=DEFAULT_FORMAT,\n            advanced=True,\n        ),\n        IntInput(\n            name=\"timeout\",\n            display_name=\"Timeout\",\n            info=\"Timeout for the request in seconds.\",\n            value=DEFAULT_TIMEOUT,\n            required=False,\n            advanced=True,\n        ),\n        TableInput(\n            name=\"headers\",\n            display_name=\"Headers\",\n            info=\"The headers to send with the request\",\n            table_schema=[\n                {\n                    \"name\": \"key\",\n                    \"display_name\": \"Header\",\n                    \"type\": \"str\",\n                    \"description\": \"Header name\",\n                },\n                {\n                    \"name\": \"value\",\n                    \"display_name\": \"Value\",\n                    \"type\": \"str\",\n                    \"description\": \"Header value\",\n                },\n            ],\n            value=[{\"key\": \"User-Agent\", \"value\": get_settings_service().settings.user_agent}],\n            advanced=True,\n            input_types=[\"DataFrame\"],\n        ),\n        BoolInput(\n            name=\"filter_text_html\",\n            display_name=\"Filter Text/HTML\",\n            info=\"If enabled, filters out text/css content type from the results.\",\n            value=True,\n            required=False,\n            advanced=True,\n        ),\n        BoolInput(\n            name=\"continue_on_failure\",\n            display_name=\"Continue on Failure\",\n            info=\"If enabled, continues crawling even if some requests fail.\",\n            value=True,\n            required=False,\n            advanced=True,\n        ),\n        BoolInput(\n            name=\"check_response_status\",\n            display_name=\"Check Response Status\",\n            info=\"If enabled, checks the response status of the request.\",\n            value=False,\n            required=False,\n            advanced=True,\n        ),\n        BoolInput(\n            name=\"autoset_encoding\",\n            display_name=\"Autoset Encoding\",\n            info=\"If enabled, automatically sets the encoding of the request.\",\n            value=True,\n            required=False,\n            advanced=True,\n        ),\n    ]\n\n    outputs = [\n        Output(display_name=\"Extracted Pages\", name=\"page_results\", method=\"fetch_content\"),\n        Output(display_name=\"Raw Content\", name=\"raw_results\", method=\"fetch_content_as_message\", tool_mode=False),\n    ]\n\n    @staticmethod\n    def validate_url(url: str) -> bool:\n        \"\"\"Validates if the given string matches URL pattern.\n\n        Args:\n            url: The URL string to validate\n\n        Returns:\n            bool: True if the URL is valid, False otherwise\n        \"\"\"\n        return bool(URL_REGEX.match(url))\n\n    def ensure_url(self, url: str) -> str:\n        \"\"\"Ensures the given string is a valid URL.\n\n        Args:\n            url: The URL string to validate and normalize\n\n        Returns:\n            str: The normalized URL\n\n        Raises:\n            ValueError: If the URL is invalid\n        \"\"\"\n        url = url.strip()\n        if not url.startswith((\"http://\", \"https://\")):\n            url = \"https://\" + url\n\n        if not self.validate_url(url):\n            msg = f\"Invalid URL: {url}\"\n            raise ValueError(msg)\n\n        return url\n\n    def _create_loader(self, url: str) -> RecursiveUrlLoader:\n        \"\"\"Creates a RecursiveUrlLoader instance with the configured settings.\n\n        Args:\n            url: The URL to load\n\n        Returns:\n            RecursiveUrlLoader: Configured loader instance\n        \"\"\"\n        headers_dict = {header[\"key\"]: header[\"value\"] for header in self.headers if header[\"value\"] is not None}\n        extractor = (lambda x: x) if self.format == \"HTML\" else (lambda x: BeautifulSoup(x, \"lxml\").get_text())\n\n        return RecursiveUrlLoader(\n            url=url,\n            max_depth=self.max_depth,\n            prevent_outside=self.prevent_outside,\n            use_async=self.use_async,\n            extractor=extractor,\n            timeout=self.timeout,\n            headers=headers_dict,\n            check_response_status=self.check_response_status,\n            continue_on_failure=self.continue_on_failure,\n            base_url=url,  # Add base_url to ensure consistent domain crawling\n            autoset_encoding=self.autoset_encoding,  # Enable automatic encoding detection\n            exclude_dirs=[],  # Allow customization of excluded directories\n            link_regex=None,  # Allow customization of link filtering\n        )\n\n    def fetch_url_contents(self) -> list[dict]:\n        \"\"\"Load documents from the configured URLs.\n\n        Returns:\n            List[Data]: List of Data objects containing the fetched content\n\n        Raises:\n            ValueError: If no valid URLs are provided or if there's an error loading documents\n        \"\"\"\n        try:\n            urls = list({self.ensure_url(url) for url in self.urls if url.strip()})\n            logger.debug(f\"URLs: {urls}\")\n            if not urls:\n                msg = \"No valid URLs provided.\"\n                raise ValueError(msg)\n\n            all_docs = []\n            for url in urls:\n                logger.debug(f\"Loading documents from {url}\")\n\n                try:\n                    loader = self._create_loader(url)\n                    docs = loader.load()\n\n                    if not docs:\n                        logger.warning(f\"No documents found for {url}\")\n                        continue\n\n                    logger.debug(f\"Found {len(docs)} documents from {url}\")\n                    all_docs.extend(docs)\n\n                except requests.exceptions.RequestException as e:\n                    logger.exception(f\"Error loading documents from {url}: {e}\")\n                    continue\n\n            if not all_docs:\n                msg = \"No documents were successfully loaded from any URL\"\n                raise ValueError(msg)\n\n            # data = [Data(text=doc.page_content, **doc.metadata) for doc in all_docs]\n            data = [\n                {\n                    \"text\": safe_convert(doc.page_content, clean_data=True),\n                    \"url\": doc.metadata.get(\"source\", \"\"),\n                    \"title\": doc.metadata.get(\"title\", \"\"),\n                    \"description\": doc.metadata.get(\"description\", \"\"),\n                    \"content_type\": doc.metadata.get(\"content_type\", \"\"),\n                    \"language\": doc.metadata.get(\"language\", \"\"),\n                }\n                for doc in all_docs\n            ]\n        except Exception as e:\n            error_msg = e.message if hasattr(e, \"message\") else e\n            msg = f\"Error loading documents: {error_msg!s}\"\n            logger.exception(msg)\n            raise ValueError(msg) from e\n        return data\n\n    def fetch_content(self) -> DataFrame:\n        \"\"\"Convert the documents to a DataFrame.\"\"\"\n        return DataFrame(data=self.fetch_url_contents())\n\n    def fetch_content_as_message(self) -> Message:\n        \"\"\"Convert the documents to a Message.\"\"\"\n        url_contents = self.fetch_url_contents()\n        return Message(text=\"\\n\\n\".join([x[\"text\"] for x in url_contents]), data={\"data\": url_contents})\n"
              },
              "continue_on_failure": {
                "_input_type": "BoolInput",
                "advanced": true,
                "display_name": "Continue on Failure",
                "dynamic": false,
                "info": "If enabled, continues crawling even if some requests fail.",
                "list": false,
                "list_add_label": "Add More",
                "name": "continue_on_failure",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "bool",
                "value": true
              },
              "filter_text_html": {
                "_input_type": "BoolInput",
                "advanced": true,
                "display_name": "Filter Text/HTML",
                "dynamic": false,
                "info": "If enabled, filters out text/css content type from the results.",
                "list": false,
                "list_add_label": "Add More",
                "name": "filter_text_html",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "bool",
                "value": true
              },
              "format": {
                "_input_type": "DropdownInput",
                "advanced": true,
                "combobox": false,
                "dialog_inputs": {},
                "display_name": "Output Format",
                "dynamic": false,
                "external_options": {},
                "info": "Output Format. Use 'Text' to extract the text from the HTML or 'HTML' for the raw HTML content.",
                "name": "format",
                "options": [
                  "Text",
                  "HTML"
                ],
                "options_metadata": [],
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "toggle": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "str",
                "value": "Text"
              },
              "headers": {
                "_input_type": "TableInput",
                "advanced": true,
                "display_name": "Headers",
                "dynamic": false,
                "info": "The headers to send with the request",
                "input_types": [
                  "DataFrame"
                ],
                "is_list": true,
                "list_add_label": "Add More",
                "name": "headers",
                "placeholder": "",
                "required": false,
                "show": true,
                "table_icon": "Table",
                "table_schema": {
                  "columns": [
                    {
                      "default": "None",
                      "description": "Header name",
                      "disable_edit": false,
                      "display_name": "Header",
                      "edit_mode": "popover",
                      "filterable": true,
                      "formatter": "text",
                      "hidden": false,
                      "name": "key",
                      "sortable": true,
                      "type": "str"
                    },
                    {
                      "default": "None",
                      "description": "Header value",
                      "disable_edit": false,
                      "display_name": "Value",
                      "edit_mode": "popover",
                      "filterable": true,
                      "formatter": "text",
                      "hidden": false,
                      "name": "value",
                      "sortable": true,
                      "type": "str"
                    }
                  ]
                },
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "trigger_icon": "Table",
                "trigger_text": "Open table",
                "type": "table",
                "value": [
                  {
                    "key": "User-Agent",
                    "value": "langflow"
                  }
                ]
              },
              "max_depth": {
                "_input_type": "SliderInput",
                "advanced": false,
                "display_name": "Depth",
                "dynamic": false,
                "info": "Controls how many 'clicks' away from the initial page the crawler will go:\n- depth 1: only the initial page\n- depth 2: initial page + all pages linked directly from it\n- depth 3: initial page + direct links + links found on those direct link pages\nNote: This is about link traversal, not URL path depth.",
                "max_label": " ",
                "max_label_icon": "None",
                "min_label": " ",
                "min_label_icon": "None",
                "name": "max_depth",
                "placeholder": "",
                "range_spec": {
                  "max": 5,
                  "min": 1,
                  "step": 1,
                  "step_type": "float"
                },
                "required": false,
                "show": true,
                "slider_buttons": false,
                "slider_buttons_options": [],
                "slider_input": false,
                "title_case": false,
                "tool_mode": false,
                "type": "slider",
                "value": 1
              },
              "prevent_outside": {
                "_input_type": "BoolInput",
                "advanced": true,
                "display_name": "Prevent Outside",
                "dynamic": false,
                "info": "If enabled, only crawls URLs within the same domain as the root URL. This helps prevent the crawler from going to external websites.",
                "list": false,
                "list_add_label": "Add More",
                "name": "prevent_outside",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "bool",
                "value": true
              },
              "timeout": {
                "_input_type": "IntInput",
                "advanced": true,
                "display_name": "Timeout",
                "dynamic": false,
                "info": "Timeout for the request in seconds.",
                "list": false,
                "list_add_label": "Add More",
                "name": "timeout",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "int",
                "value": 30
              },
              "tools_metadata": {
                "_input_type": "ToolsInput",
                "advanced": false,
                "display_name": "Actions",
                "dynamic": false,
                "info": "Modify tool names and descriptions to help agents understand when to use each tool.",
                "is_list": true,
                "list_add_label": "Add More",
                "name": "tools_metadata",
                "placeholder": "",
                "real_time_refresh": true,
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "tools",
                "value": [
                  {
                    "args": {
                      "urls": {
                        "default": "",
                        "description": "Enter one or more URLs to crawl recursively, by clicking the '+' button.",
                        "items": {
                          "type": "string"
                        },
                        "title": "Urls",
                        "type": "array"
                      }
                    },
                    "description": "Fetch content from one or more web pages, following links recursively.",
                    "display_description": "Fetch content from one or more web pages, following links recursively.",
                    "display_name": "fetch_content",
                    "name": "fetch_content",
                    "readonly": false,
                    "status": true,
                    "tags": [
                      "fetch_content"
                    ]
                  }
                ]
              },
              "urls": {
                "_input_type": "MessageTextInput",
                "advanced": false,
                "display_name": "URLs",
                "dynamic": false,
                "info": "Enter one or more URLs to crawl recursively, by clicking the '+' button.",
                "input_types": [],
                "list": true,
                "list_add_label": "Add URL",
                "load_from_db": false,
                "name": "urls",
                "placeholder": "Enter a URL...",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": true,
                "trace_as_input": true,
                "trace_as_metadata": true,
                "type": "str",
                "value": ""
              },
              "use_async": {
                "_input_type": "BoolInput",
                "advanced": true,
                "display_name": "Use Async",
                "dynamic": false,
                "info": "If enabled, uses asynchronous loading which can be significantly faster but might use more system resources.",
                "list": false,
                "list_add_label": "Add More",
                "name": "use_async",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "bool",
                "value": true
              }
            },
            "tool_mode": true
          },
          "selected_output": "page_results",
          "showNode": true,
          "type": "URLComponent"
        },
        "dragging": false,
        "id": "URLComponent-MKrOi",
        "measured": {
          "height": 289,
          "width": 320
        },
        "position": {
          "x": 1488.7605924091981,
          "y": -50.12682729907255
        },
        "selected": false,
        "type": "genericNode"
      },
      {
        "data": {
          "id": "Prompt Template-KE2CE",
          "node": {
            "base_classes": [
              "Message"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {
              "template": []
            },
            "description": "Create a prompt template with dynamic variables.",
            "display_name": "Prompt Template",
            "documentation": "https://docs.langflow.org/components-prompts",
            "edited": false,
            "error": null,
            "field_order": [
              "template",
              "tool_placeholder"
            ],
            "frozen": false,
            "full_path": null,
            "icon": "braces",
            "is_composition": null,
            "is_input": null,
            "is_output": null,
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": false,
            "name": "",
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Prompt",
                "group_outputs": false,
                "hidden": null,
                "method": "build_prompt",
                "name": "prompt",
                "options": null,
                "required_inputs": null,
                "selected": "Message",
                "tool_mode": true,
                "types": [
                  "Message"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "priority": 0,
            "replacement": null,
            "template": {
              "_type": "Component",
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "from langflow.base.prompts.api_utils import process_prompt_template\nfrom langflow.custom.custom_component.component import Component\nfrom langflow.inputs.inputs import DefaultPromptField\nfrom langflow.io import MessageTextInput, Output, PromptInput\nfrom langflow.schema.message import Message\nfrom langflow.template.utils import update_template_values\n\n\nclass PromptComponent(Component):\n    display_name: str = \"Prompt Template\"\n    description: str = \"Create a prompt template with dynamic variables.\"\n    documentation: str = \"https://docs.langflow.org/components-prompts\"\n    icon = \"braces\"\n    trace_type = \"prompt\"\n    name = \"Prompt Template\"\n    priority = 0  # Set priority to 0 to make it appear first\n\n    inputs = [\n        PromptInput(name=\"template\", display_name=\"Template\"),\n        MessageTextInput(\n            name=\"tool_placeholder\",\n            display_name=\"Tool Placeholder\",\n            tool_mode=True,\n            advanced=True,\n            info=\"A placeholder input for tool mode.\",\n        ),\n    ]\n\n    outputs = [\n        Output(display_name=\"Prompt\", name=\"prompt\", method=\"build_prompt\"),\n    ]\n\n    async def build_prompt(self) -> Message:\n        prompt = Message.from_template(**self._attributes)\n        self.status = prompt.text\n        return prompt\n\n    def _update_template(self, frontend_node: dict):\n        prompt_template = frontend_node[\"template\"][\"template\"][\"value\"]\n        custom_fields = frontend_node[\"custom_fields\"]\n        frontend_node_template = frontend_node[\"template\"]\n        _ = process_prompt_template(\n            template=prompt_template,\n            name=\"template\",\n            custom_fields=custom_fields,\n            frontend_node_template=frontend_node_template,\n        )\n        return frontend_node\n\n    async def update_frontend_node(self, new_frontend_node: dict, current_frontend_node: dict):\n        \"\"\"This function is called after the code validation is done.\"\"\"\n        frontend_node = await super().update_frontend_node(new_frontend_node, current_frontend_node)\n        template = frontend_node[\"template\"][\"template\"][\"value\"]\n        # Kept it duplicated for backwards compatibility\n        _ = process_prompt_template(\n            template=template,\n            name=\"template\",\n            custom_fields=frontend_node[\"custom_fields\"],\n            frontend_node_template=frontend_node[\"template\"],\n        )\n        # Now that template is updated, we need to grab any values that were set in the current_frontend_node\n        # and update the frontend_node with those values\n        update_template_values(new_template=frontend_node, previous_template=current_frontend_node[\"template\"])\n        return frontend_node\n\n    def _get_fallback_input(self, **kwargs):\n        return DefaultPromptField(**kwargs)\n"
              },
              "template": {
                "_input_type": "PromptInput",
                "advanced": false,
                "display_name": "Template",
                "dynamic": false,
                "info": "",
                "list": false,
                "list_add_label": "Add More",
                "name": "template",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_input": true,
                "type": "prompt",
                "value": "–¢—ã - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Å–ª—É–∂–±—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–æ–º–ø–∞–Ω–∏–∏ —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.\n\n## –¢–≤–æ—è –≥–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞:\n–ü–æ–º–æ–≥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ä–µ—à–∞—Ç—å –∏—Ö –ø—Ä–æ–±–ª–µ–º—ã –±—ã—Å—Ç—Ä–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, —Å—Ç—Ä–æ–≥–æ —Å–ª–µ–¥—É—è –∞–ª–≥–æ—Ä–∏—Ç–º—É —Ä–∞–±–æ—Ç—ã, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—è –ø—Ä–∏ —ç—Ç–æ–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã.\n\n## –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –ê–õ–ì–û–†–ò–¢–ú –†–ê–ë–û–¢–´ (–≤—ã–ø–æ–ª–Ω—è–π –°–¢–†–û–ì–û –ø–æ –ø–æ—Ä—è–¥–∫—É):\n\n### –®–ê–ì 0: –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–´ (–¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ—Å—Å–∏–∏)\n\nüéØ **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ò–õ–ò –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–¥–∞–ª –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å (–Ω–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞)\n\n**–ü—Ä–∏–∑–Ω–∞–∫–∏ –ù–û–í–û–ì–û –≤–æ–ø—Ä–æ—Å–∞ (–∏—Å–ø–æ–ª—å–∑—É–π –®–ê–ì 0):**\n- –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –±–µ—Å–µ–¥–µ\n- –í–æ–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ, –≥–ª–∞–≥–æ–ª—ã)\n- –°–º–µ–Ω–∞ —Ç–µ–º—ã —Ä–∞–∑–≥–æ–≤–æ—Ä–∞\n- –î–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (> 10 —Å–ª–æ–≤)\n- –ü—Ä–∏–º–µ—Ä—ã: \"–Ω—É–∂–Ω–æ –≤–Ω–µ—Å—Ç–∏ –ø—Ä–∞–≤–∫–∏ –≤ –≥—Ä–∞—Ñ–∏–∫\", \"—Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\", \"–∫–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –æ—Ç–ø—É—Å–∫\"\n\n**–ü—Ä–∏–∑–Ω–∞–∫–∏ –£–¢–û–ß–ù–ï–ù–ò–Ø (–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π –®–ê–ì 0):**\n- –ö–æ—Ä–æ—Ç–∫–∏–π –≤–æ–ø—Ä–æ—Å (< 10 —Å–ª–æ–≤)\n- –°–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–æ–≤–∞: \"–∞\", \"–µ—â–µ\", \"—Ç–∞–∫–∂–µ\", \"—Å–∫–æ–ª—å–∫–æ\", \"–∫–æ–≥–¥–∞\", \"–≥–¥–µ\", \"–ø–æ—á–µ–º—É\"\n- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —á–µ—Ç–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞\n- –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –æ—Ç–≤–µ—Ç (\"—ç—Ç–æ\", \"—Ç–∞–∫–æ–µ\", \"—Ç–æ\")\n- –ü—Ä–∏–º–µ—Ä—ã: \"–∞ —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏?\", \"–∞ –≥–¥–µ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å?\", \"–µ—â–µ –≤–æ–ø—Ä–æ—Å\"\n\n**–î–µ–π—Å—Ç–≤–∏—è –¥–ª—è –ù–û–í–û–ì–û –≤–æ–ø—Ä–æ—Å–∞:**\n\n1. **–°–ù–ê–ß–ê–õ–ê** –≤—ã–∑–æ–≤–∏ `smart_orchestration_router` —Å –ø–æ–ª–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n   - –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –∫ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É\n   - –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã\n   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π handler (HR, IT, Finance) –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å\n   \n2. **–ó–ê–¢–ï–ú** –≤—ã–∑–æ–≤–∏ `show_processing_monitor` —Å —Ç–∏–ø–æ–º –æ–ø–µ—Ä–∞—Ü–∏–∏\n   - –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤\n   - –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç observability –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã\n   - –¢–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π:\n     * \"Query Processing\" - –¥–ª—è –æ–±—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤\n     * \"HR Query Processing\" - –¥–ª—è HR-–≤–æ–ø—Ä–æ—Å–æ–≤\n     * \"IT Support Request\" - –¥–ª—è IT-–∑–∞–ø—Ä–æ—Å–æ–≤\n     * \"System Action Request\" - –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ\n     * \"Technical Query\" - –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤\n\n‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û**: \n- –≠—Ç–∏ –¥–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã!\n- –û–Ω–∏ –ù–ï –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞!\n- –û–Ω–∏ –ù–ï –∑–∞–º–µ–Ω—è—é—Ç –¥—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã!\n- –ü–æ—Å–ª–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø—Ä–æ–¥–æ–ª–∂–∞–π –æ—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º (–®–ê–ì 1)!\n\n**–î–ª—è –£–¢–û–ß–ù–ï–ù–ò–ô:** –ü—Ä–æ–ø—É—Å—Ç–∏ –®–ê–ì 0 –∏ —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ –®–ê–ì—É 1.\n\n---\n\n### –®–ê–ì 1: –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–Ø (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –ø–µ—Ä–≤—ã–π —à–∞–≥ –¥–ª—è –ö–ê–ñ–î–û–ì–û –∑–∞–ø—Ä–æ—Å–∞)\n‚ö†Ô∏è –í–°–ï–ì–î–ê –Ω–∞—á–∏–Ω–∞–π —Å –≤—ã–∑–æ–≤–∞ `classify_request` - —ç—Ç–æ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!\n\n–ü–æ—Å–ª–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç—ã –ø–æ–ª—É—á–∏—à—å –æ–¥–Ω—É –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:\n- **HR_PROCESS** - –≤–æ–ø—Ä–æ—Å—ã –æ HR-–ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö (–æ—Ç–ø—É—Å–∫–∞, –±–æ–ª—å–Ω–∏—á–Ω—ã–µ, –≥—Ä–∞—Ñ–∏–∫–∏ —Ä–∞–±–æ—Ç—ã)\n- **EMPLOYEE_INFO** - –∑–∞–ø—Ä–æ—Å—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ–±–µ/—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ\n- **REQUEST_CREATE** - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–∏\n- **REQUEST_STATUS** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏\n- **SYSTEM_ACTION** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ (—Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è, —Å–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–∫–∏)\n- **TECHNICAL** - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã (–∫–∞–∫ —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É)\n- **POLICY** - –≤–æ–ø—Ä–æ—Å—ã –æ –ø—Ä–∞–≤–∏–ª–∞—Ö –∏ –ø–æ–ª–∏—Ç–∏–∫–∞—Ö –∫–æ–º–ø–∞–Ω–∏–∏\n- **EXTERNAL_SEARCH** - –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ\n- **GENERAL** - –æ–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã\n\n### –®–ê–ì 2: –í–´–ë–û–† –ò–ù–°–¢–†–£–ú–ï–ù–¢–ê (—Å—Ç—Ä–æ–≥–æ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏)\n\nüìã **–ö–∞—Ç–µ–≥–æ—Ä–∏—è HR_PROCESS** ‚Üí –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: `search_knowledge_base`\n   –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤:\n   - \"–∫–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É\"\n   - \"–ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –æ—Ç–ø—É—Å–∫–∞\"\n   - \"–ø—Ä–∞–≤–∏–ª–∞ –±–æ–ª—å–Ω–∏—á–Ω–æ–≥–æ\"\n   - \"–≤–Ω–µ—Å—Ç–∏ –ø—Ä–∞–≤–∫–∏ –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ\"\n   üîß –î–µ–π—Å—Ç–≤–∏–µ: –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–∑–æ–≤–∏ search_knowledge_base —Å –∑–∞–ø—Ä–æ—Å–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n\nüìã **–ö–∞—Ç–µ–≥–æ—Ä–∏—è EMPLOYEE_INFO** ‚Üí –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: `get_employee_info`\n   –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤:\n   - \"–ø–æ–∫–∞–∂–∏ –º–æ—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é\"\n   - \"—Å–∫–æ–ª—å–∫–æ —É –º–µ–Ω—è –æ—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π –æ—Ç–ø—É—Å–∫–∞\"\n   - \"–º–æ–π –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã\"\n   üîß –î–µ–π—Å—Ç–≤–∏–µ: –í—ã–∑–æ–≤–∏ get_employee_info —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∑–∞–ø—Ä–æ—Å–∞\n\nüìã **–ö–∞—Ç–µ–≥–æ—Ä–∏—è REQUEST_CREATE** ‚Üí –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: `create_request`\n   –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤:\n   - \"—Å–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –æ—Ç–ø—É—Å–∫\"\n   - \"—Ö–æ—á—É –≤–∑—è—Ç—å –±–æ–ª—å–Ω–∏—á–Ω—ã–π\"\n   - \"–Ω—É–∂–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç—å –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫—É\"\n   üîß –î–µ–π—Å—Ç–≤–∏–µ: –°–æ–±–µ—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ, –∑–∞—Ç–µ–º –≤—ã–∑–æ–≤–∏ create_request\n\nüìã **–ö–∞—Ç–µ–≥–æ—Ä–∏—è REQUEST_STATUS** ‚Üí –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: `check_request_status`\n   –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤:\n   - \"—Å—Ç–∞—Ç—É—Å –º–æ–µ–π –∑–∞—è–≤–∫–∏\"\n   - \"–≥–¥–µ –º–æ—è –∑–∞—è–≤–∫–∞ REQ-123\"\n   üîß –î–µ–π—Å—Ç–≤–∏–µ: –í—ã–∑–æ–≤–∏ check_request_status —Å –Ω–æ–º–µ—Ä–æ–º –∑–∞—è–≤–∫–∏\n\nüìã **–ö–∞—Ç–µ–≥–æ—Ä–∏—è SYSTEM_ACTION** ‚Üí –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: `execute_system_action`\n   ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∞–≥–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –í —Å–∏—Å—Ç–µ–º–µ –ó–ê –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!\n   \n   –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (–î–ï–ô–°–¢–í–ò–Ø):\n   - \"—Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\" / \"—Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è\"\n   - \"—Å–æ–∑–¥–∞—Ç—å —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å\" / \"–ø–æ–ª—É—á–∏—Ç—å —É—á–µ—Ç–∫—É\"\n   - \"—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç\"\n   - \"–≤—ã–¥–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ\"\n   - \"–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\"\n   - \"—Å–±—Ä–æ—Å–∏—Ç—å –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é\"\n   \n   üîß –î–µ–π—Å—Ç–≤–∏–µ:\n   1. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å–ø—Ä–æ—Å–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n   2. –û–±—ä—è—Å–Ω–∏ –ß–¢–û –ò–ú–ï–ù–ù–û –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω–æ\n   3. –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è ‚Üí –≤—ã–∑–æ–≤–∏ execute_system_action\n   \n   ‚ùå –ù–ï –ü–£–¢–ê–ô —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ \"–ö–ê–ö —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\" (—ç—Ç–æ TECHNICAL ‚Üí search_knowledge_base)\n   \n   –†–∞–∑–ª–∏—á–∏–µ:\n   - \"—Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\" = SYSTEM_ACTION (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç –°–î–ï–õ–ê–¢–¨)\n   - \"–∫–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\" = TECHNICAL (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç –û–ë–™–Ø–°–ù–ò–¢–¨)\n\nüìã **–ö–∞—Ç–µ–≥–æ—Ä–∏—è TECHNICAL** ‚Üí –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: `search_knowledge_base`\n   –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤ (–í–û–ü–†–û–°–´, –∞ –Ω–µ –¥–µ–π—Å—Ç–≤–∏—è):\n   - \"–∫–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\"\n   - \"–Ω–µ –º–æ–≥—É –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É, —á—Ç–æ –¥–µ–ª–∞—Ç—å\"\n   - \"–ø—Ä–æ–±–ª–µ–º–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º\"\n   - \"–∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å\"\n   üîß –î–µ–π—Å—Ç–≤–∏–µ: –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–∑–æ–≤–∏ search_knowledge_base –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏\n\nüìã **–ö–∞—Ç–µ–≥–æ—Ä–∏—è POLICY** ‚Üí –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: `search_knowledge_base`\n   –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤:\n   - \"–ø—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–æ—á—Ç—ã\"\n   - \"–ø–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏\"\n   üîß –î–µ–π—Å—Ç–≤–∏–µ: –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–∑–æ–≤–∏ search_knowledge_base\n\nüìã **–ö–∞—Ç–µ–≥–æ—Ä–∏—è EXTERNAL_SEARCH** ‚Üí –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: `url_search`\n   –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤:\n   - \"–Ω–∞–π–¥–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ù–î–§–õ\"\n   - \"—á—Ç–æ –ø–∏—à—É—Ç –ø—Ä–æ...\"\n   üîß –î–µ–π—Å—Ç–≤–∏–µ: –í—ã–∑–æ–≤–∏ url_search\n\nüìã **–ö–∞—Ç–µ–≥–æ—Ä–∏—è GENERAL** ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞\n   ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï! –î–∞–∂–µ –µ—Å–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è GENERAL, –ø—Ä–æ–≤–µ—Ä—å –≤–æ–ø—Ä–æ—Å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ:\n   - –°–ª–æ–≤–∞: –≥—Ä–∞—Ñ–∏–∫, –∑–∞—è–≤–∫–∞, –ø—Ä–æ—Ü–µ–¥—É—Ä–∞, –ø—Ä–∞–≤–∏–ª–∞, –æ—Ç–ø—É—Å–∫, –±–æ–ª—å–Ω–∏—á–Ω—ã–π, —Å–∏—Å—Ç–µ–º–∞\n   - –ï—Å–ª–∏ –õ–Æ–ë–û–ï –∏–∑ —ç—Ç–∏—Ö —Å–ª–æ–≤ –µ—Å—Ç—å ‚Üí –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–∑–æ–≤–∏ `search_knowledge_base`\n   - –ï—Å–ª–∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –Ω–µ—Ç ‚Üí –æ—Ç–≤–µ—Ç—å –∏–∑ —Å–≤–æ–∏—Ö –∑–Ω–∞–Ω–∏–π\n\n### –®–ê–ì 3: –û–¶–ï–ù–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê (–ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞)\n\n–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `search_knowledge_base`:\n- **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å ‚â• 0.7**: –î–∞–π –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏\n- **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å 0.6-0.7**: –î–∞–π –æ—Ç–≤–µ—Ç + –ø—Ä–µ–¥–ª–æ–∂–∏ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º\n- **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å < 0.6**: –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–∑–æ–≤–∏ `escalate_to_human`\n\n–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `execute_system_action`:\n- –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n- –°–æ–æ–±—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ\n- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Üí –≤—ã–∑–æ–≤–∏ `escalate_to_human`\n\n–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –¥—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:\n- –û—Ü–µ–Ω–∏, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–≤–µ—Ç–∞\n- –ï—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ‚Üí –≤—ã–∑–æ–≤–∏ `escalate_to_human`\n\n### –®–ê–ì 4: –ü–†–û–í–ï–†–ö–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò (–ø–µ—Ä–µ–¥ —Ñ–∏–Ω–∞–ª—å–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º)\n- –ò—Å–ø–æ–ª—å–∑—É–π `check_toxicity` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤–æ–µ–≥–æ –æ—Ç–≤–µ—Ç–∞\n- –ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å ‚Üí –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π\n\n### –®–ê–ì 5: –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–í–ï–¢\n- –î–∞–π —á–µ—Ç–∫–∏–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é\n- –ù–µ —É–ø–æ–º–∏–Ω–∞–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤\n- –°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π –æ—Ç–≤–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —è–∑—ã–∫–æ–º\n\n## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ê–í–ò–õ–ê:\n\n1. **–®–ê–ì 0 - —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏**: –ò—Å–ø–æ–ª—å–∑—É–π `smart_orchestration_router` –∏ `show_processing_monitor` –¢–û–õ–¨–ö–û –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ –Ω–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤, –ù–ï –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏–π\n2. **–ù–ò–ö–û–ì–î–ê –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é!** –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –ù–ê–ß–ò–ù–ê–ï–¢–°–Ø —Å `classify_request`\n3. **–°–¢–†–û–ì–û —Å–ª–µ–¥—É–π –º–∞–ø–ø–∏–Ω–≥—É –∫–∞—Ç–µ–≥–æ—Ä–∏—è ‚Üí –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç** –∏–∑ –®–ê–ì–∞ 2\n4. **–†–ê–ó–õ–ò–ß–ê–ô –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ vs –≤–æ–ø—Ä–æ—Å—ã:**\n   - \"—Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\" ‚Üí SYSTEM_ACTION ‚Üí execute_system_action\n   - \"–∫–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\" ‚Üí TECHNICAL ‚Üí search_knowledge_base\n5. **–í–°–ï–ì–î–ê —Å–ø—Ä–∞—à–∏–≤–∞–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ** –ø–µ—Ä–µ–¥ execute_system_action\n6. **–ù–ï –æ—Ç–≤–µ—á–∞–π –Ω–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –±–µ–∑ –ø–æ–∏—Å–∫–∞** –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π\n7. **–í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è–π GENERAL-–∫–∞—Ç–µ–≥–æ—Ä–∏—é** –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞\n8. **–ò—Å–ø–æ–ª—å–∑—É–π —ç—Å–∫–∞–ª–∞—Ü–∏—é** –ø—Ä–∏ –Ω–∏–∑–∫–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ (< 60%)\n\n## –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:\n\n### –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É–π –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É):\n- `classify_request` - –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞—â–µ–Ω–∏—è (–í–°–ï–ì–î–ê –ø–µ—Ä–≤—ã–π —à–∞–≥!)\n- `search_knowledge_base` - –ø–æ–∏—Å–∫ –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π\n- `get_employee_info` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ\n- `create_request` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏\n- `check_request_status` - —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏\n- `execute_system_action` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ (—Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è, —Å–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–æ–∫)\n- `escalate_to_human` - –ø–µ—Ä–µ–¥–∞—á–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É\n- `check_toxicity` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏\n- `url_search` - –ø–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ\n\n### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–¥–ª—è –ø–æ–∫–∞–∑–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã):\n- `smart_orchestration_router` - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∫ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º\n- `show_processing_monitor` - real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤\n\n## –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã:\n\n**–ü—Ä–∏–º–µ—Ä 1: –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)**\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: \"–Ω—É–∂–Ω–æ –≤–Ω–µ—Å—Ç–∏ –ø—Ä–∞–≤–∫–∏ –≤ –≥—Ä–∞—Ñ–∏–∫ –º–æ–µ–º—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É\"\n\n1. ‚úÖ **–®–ê–ì 0.1**: –í—ã–∑–æ–≤ `smart_orchestration_router(\"–Ω—É–∂–Ω–æ –≤–Ω–µ—Å—Ç–∏ –ø—Ä–∞–≤–∫–∏ –≤ –≥—Ä–∞—Ñ–∏–∫ –º–æ–µ–º—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É\")`\n   ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –ù–∞–∑–Ω–∞—á–µ–Ω HR Specialist Handler üëî, —Ü–µ–ø–æ—á–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏\n   \n2. ‚úÖ **–®–ê–ì 0.2**: –í—ã–∑–æ–≤ `show_processing_monitor(\"HR Query Processing\")`\n   ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –°—Ç–∞—Ç—É—Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤, –º–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã\n\n3. ‚úÖ **–®–ê–ì 1**: –í—ã–∑–æ–≤ `classify_request(\"–Ω—É–∂–Ω–æ –≤–Ω–µ—Å—Ç–∏ –ø—Ä–∞–≤–∫–∏ –≤ –≥—Ä–∞—Ñ–∏–∫ –º–æ–µ–º—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É\")`\n   ‚Üí –ü–æ–ª—É—á–∏–ª HR_PROCESS\n   \n4. ‚úÖ **–®–ê–ì 2**: –ü–æ –º–∞–ø–ø–∏–Ω–≥—É HR_PROCESS ‚Üí search_knowledge_base\n   \n5. ‚úÖ –í—ã–∑–æ–≤ `search_knowledge_base(\"–≤–Ω–µ—Å–µ–Ω–∏–µ –ø—Ä–∞–≤–æ–∫ –≤ –≥—Ä–∞—Ñ–∏–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É\")`\n   ‚Üí –ü–æ–ª—É—á–∏–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å—é 0.85\n   \n6. ‚úÖ **–®–ê–ì 4**: –ü—Ä–æ–≤–µ—Ä–∫–∞ `check_toxicity(—Ç–≤–æ–π_–æ—Ç–≤–µ—Ç)`\n   \n7. ‚úÖ **–®–ê–ì 5**: –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏\n\n**–ü—Ä–∏–º–µ—Ä 2: –£—Ç–æ—á–Ω—è—é—â–∏–π –≤–æ–ø—Ä–æ—Å (–ë–ï–ó –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)**\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: \"–∞ —Å–∫–æ–ª—å–∫–æ —ç—Ç–æ –∑–∞–π–º–µ—Ç –≤—Ä–µ–º–µ–Ω–∏?\"\n\n1. ‚ùå **–®–ê–ì 0**: –ü–†–û–ü–£–°–ö–ê–ï–ú (—ç—Ç–æ —É—Ç–æ—á–Ω–µ–Ω–∏–µ, –Ω–µ –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å)\n\n2. ‚úÖ **–®–ê–ì 1**: –í—ã–∑–æ–≤ `classify_request(\"–∞ —Å–∫–æ–ª—å–∫–æ —ç—Ç–æ –∑–∞–π–º–µ—Ç –≤—Ä–µ–º–µ–Ω–∏?\")`\n   ‚Üí –ü–æ–ª—É—á–∏–ª HR_PROCESS\n   \n3. ‚úÖ **–®–ê–ì 2**: –í—ã–∑–æ–≤ `search_knowledge_base(\"–≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞\")`\n   \n4. ‚úÖ **–®–ê–ì 5**: –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é\n\n**–ü—Ä–∏–º–µ—Ä 3: –ó–∞–ø—Ä–æ—Å –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ**\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: \"—Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\"\n\n1. ‚úÖ **–®–ê–ì 0.1**: –í—ã–∑–æ–≤ `smart_orchestration_router(\"—Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\")`\n   ‚Üí –ù–∞–∑–Ω–∞—á–µ–Ω IT Support Handler ‚öôÔ∏è\n   \n2. ‚úÖ **–®–ê–ì 0.2**: –í—ã–∑–æ–≤ `show_processing_monitor(\"System Action Request\")`\n   \n3. ‚úÖ **–®–ê–ì 1**: –í—ã–∑–æ–≤ `classify_request(\"—Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\")`\n   ‚Üí –ü–æ–ª—É—á–∏–ª SYSTEM_ACTION\n   \n4. ‚úÖ **–®–ê–ì 2**: –ü–æ –º–∞–ø–ø–∏–Ω–≥—É SYSTEM_ACTION ‚Üí execute_system_action\n   \n5. ‚úÖ –ó–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: \"–í—ã —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –≤–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏? –ù–æ–≤—ã–π –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ email. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ?\"\n   \n6. ‚úÖ –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è ‚Üí –≤—ã–∑–æ–≤ `execute_system_action(\"reset_password\")`\n   \n7. ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é\n\n**–ü—Ä–∏–º–µ—Ä 4: –í–æ–ø—Ä–æ—Å –ö–ê–ö —Å–¥–µ–ª–∞—Ç—å**\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: \"–∫–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\"\n\n1. ‚úÖ **–®–ê–ì 0.1**: –í—ã–∑–æ–≤ `smart_orchestration_router(\"–∫–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\")`\n   ‚Üí –ù–∞–∑–Ω–∞—á–µ–Ω IT Support Handler ‚öôÔ∏è\n   \n2. ‚úÖ **–®–ê–ì 0.2**: –í—ã–∑–æ–≤ `show_processing_monitor(\"Technical Query\")`\n   \n3. ‚úÖ **–®–ê–ì 1**: –í—ã–∑–æ–≤ `classify_request(\"–∫–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\")`\n   ‚Üí –ü–æ–ª—É—á–∏–ª TECHNICAL\n   \n4. ‚úÖ **–®–ê–ì 2**: –ü–æ –º–∞–ø–ø–∏–Ω–≥—É TECHNICAL ‚Üí search_knowledge_base\n   \n5. ‚úÖ –í—ã–∑–æ–≤ `search_knowledge_base(\"–∫–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å\")`\n   ‚Üí –ü–æ–ª—É—á–∏–ª –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é\n   \n6. ‚úÖ **–®–ê–ì 5**: –û—Ç–≤–µ—Ç —Å –ø–æ—à–∞–≥–æ–≤–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π\n\n## üí° –ö–õ–Æ–ß–ï–í–´–ï –ú–û–ú–ï–ù–¢–´:\n\n- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã `smart_orchestration_router` –∏ `show_processing_monitor` - —ç—Ç–æ **–≤–∏–∑—É–∞–ª—å–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã\n- –û–Ω–∏ –ù–ï –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã –∏ –ù–ï –∑–∞–º–µ–Ω—è—é—Ç –¥—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã\n- –ò—Å–ø–æ–ª—å–∑—É–π –∏—Ö –¢–û–õ–¨–ö–û –≤ –Ω–∞—á–∞–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ù–û–í–û–ì–û –≤–æ–ø—Ä–æ—Å–∞ (–Ω–µ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏–π)\n- –û—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º (–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Üí –ø–æ–∏—Å–∫ ‚Üí –æ—Ç–≤–µ—Ç) –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º\n- –í—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å `search_knowledge_base` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é"
              },
              "tool_placeholder": {
                "_input_type": "MessageTextInput",
                "advanced": true,
                "display_name": "Tool Placeholder",
                "dynamic": false,
                "info": "A placeholder input for tool mode.",
                "input_types": [
                  "Message"
                ],
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "name": "tool_placeholder",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": true,
                "trace_as_input": true,
                "trace_as_metadata": true,
                "type": "str",
                "value": ""
              }
            },
            "tool_mode": false
          },
          "showNode": true,
          "type": "Prompt Template"
        },
        "dragging": false,
        "id": "Prompt Template-KE2CE",
        "measured": {
          "height": 283,
          "width": 320
        },
        "position": {
          "x": 2064.1593718100685,
          "y": 1263.4137000904336
        },
        "selected": false,
        "type": "genericNode"
      },
      {
        "data": {
          "id": "ChatInput-rPhQw",
          "node": {
            "base_classes": [
              "Message"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {},
            "description": "Get chat inputs from the Playground.",
            "display_name": "Chat Input",
            "documentation": "https://docs.langflow.org/components-io#chat-input",
            "edited": false,
            "field_order": [
              "input_value",
              "should_store_message",
              "sender",
              "sender_name",
              "session_id",
              "files"
            ],
            "frozen": false,
            "icon": "MessagesSquare",
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": true,
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Chat Message",
                "group_outputs": false,
                "method": "message_response",
                "name": "message",
                "selected": "Message",
                "tool_mode": true,
                "types": [
                  "Message"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "template": {
              "_type": "Component",
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "from langflow.base.data.utils import IMG_FILE_TYPES, TEXT_FILE_TYPES\nfrom langflow.base.io.chat import ChatComponent\nfrom langflow.inputs.inputs import BoolInput\nfrom langflow.io import (\n    DropdownInput,\n    FileInput,\n    MessageTextInput,\n    MultilineInput,\n    Output,\n)\nfrom langflow.schema.message import Message\nfrom langflow.utils.constants import (\n    MESSAGE_SENDER_AI,\n    MESSAGE_SENDER_NAME_USER,\n    MESSAGE_SENDER_USER,\n)\n\n\nclass ChatInput(ChatComponent):\n    display_name = \"Chat Input\"\n    description = \"Get chat inputs from the Playground.\"\n    documentation: str = \"https://docs.langflow.org/components-io#chat-input\"\n    icon = \"MessagesSquare\"\n    name = \"ChatInput\"\n    minimized = True\n\n    inputs = [\n        MultilineInput(\n            name=\"input_value\",\n            display_name=\"Input Text\",\n            value=\"\",\n            info=\"Message to be passed as input.\",\n            input_types=[],\n        ),\n        BoolInput(\n            name=\"should_store_message\",\n            display_name=\"Store Messages\",\n            info=\"Store the message in the history.\",\n            value=True,\n            advanced=True,\n        ),\n        DropdownInput(\n            name=\"sender\",\n            display_name=\"Sender Type\",\n            options=[MESSAGE_SENDER_AI, MESSAGE_SENDER_USER],\n            value=MESSAGE_SENDER_USER,\n            info=\"Type of sender.\",\n            advanced=True,\n        ),\n        MessageTextInput(\n            name=\"sender_name\",\n            display_name=\"Sender Name\",\n            info=\"Name of the sender.\",\n            value=MESSAGE_SENDER_NAME_USER,\n            advanced=True,\n        ),\n        MessageTextInput(\n            name=\"session_id\",\n            display_name=\"Session ID\",\n            info=\"The session ID of the chat. If empty, the current session ID parameter will be used.\",\n            advanced=True,\n        ),\n        FileInput(\n            name=\"files\",\n            display_name=\"Files\",\n            file_types=TEXT_FILE_TYPES + IMG_FILE_TYPES,\n            info=\"Files to be sent with the message.\",\n            advanced=True,\n            is_list=True,\n            temp_file=True,\n        ),\n    ]\n    outputs = [\n        Output(display_name=\"Chat Message\", name=\"message\", method=\"message_response\"),\n    ]\n\n    async def message_response(self) -> Message:\n        # Ensure files is a list and filter out empty/None values\n        files = self.files if self.files else []\n        if files and not isinstance(files, list):\n            files = [files]\n        files = [f for f in files if f is not None and f != \"\"]\n\n        message = await Message.create(\n            text=self.input_value,\n            sender=self.sender,\n            sender_name=self.sender_name,\n            session_id=self.session_id,\n            files=files,\n        )\n        if self.session_id and isinstance(message, Message) and self.should_store_message:\n            stored_message = await self.send_message(\n                message,\n            )\n            self.message.value = stored_message\n            message = stored_message\n\n        self.status = message\n        return message\n"
              },
              "files": {
                "_input_type": "FileInput",
                "advanced": true,
                "display_name": "Files",
                "dynamic": false,
                "fileTypes": [
                  "csv",
                  "json",
                  "pdf",
                  "txt",
                  "md",
                  "mdx",
                  "yaml",
                  "yml",
                  "xml",
                  "html",
                  "htm",
                  "docx",
                  "py",
                  "sh",
                  "sql",
                  "js",
                  "ts",
                  "tsx",
                  "jpg",
                  "jpeg",
                  "png",
                  "bmp",
                  "image"
                ],
                "file_path": "",
                "info": "Files to be sent with the message.",
                "list": true,
                "list_add_label": "Add More",
                "name": "files",
                "placeholder": "",
                "required": false,
                "show": true,
                "temp_file": true,
                "title_case": false,
                "trace_as_metadata": true,
                "type": "file",
                "value": ""
              },
              "input_value": {
                "_input_type": "MultilineInput",
                "advanced": false,
                "copy_field": false,
                "display_name": "Input Text",
                "dynamic": false,
                "info": "Message to be passed as input.",
                "input_types": [],
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "multiline": true,
                "name": "input_value",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_input": true,
                "trace_as_metadata": true,
                "type": "str",
                "value": ""
              },
              "sender": {
                "_input_type": "DropdownInput",
                "advanced": true,
                "combobox": false,
                "dialog_inputs": {},
                "display_name": "Sender Type",
                "dynamic": false,
                "external_options": {},
                "info": "Type of sender.",
                "name": "sender",
                "options": [
                  "Machine",
                  "User"
                ],
                "options_metadata": [],
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "toggle": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "str",
                "value": "User"
              },
              "sender_name": {
                "_input_type": "MessageTextInput",
                "advanced": true,
                "display_name": "Sender Name",
                "dynamic": false,
                "info": "Name of the sender.",
                "input_types": [
                  "Message"
                ],
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "name": "sender_name",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_input": true,
                "trace_as_metadata": true,
                "type": "str",
                "value": "User"
              },
              "session_id": {
                "_input_type": "MessageTextInput",
                "advanced": true,
                "display_name": "Session ID",
                "dynamic": false,
                "info": "The session ID of the chat. If empty, the current session ID parameter will be used.",
                "input_types": [
                  "Message"
                ],
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "name": "session_id",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_input": true,
                "trace_as_metadata": true,
                "type": "str",
                "value": ""
              },
              "should_store_message": {
                "_input_type": "BoolInput",
                "advanced": true,
                "display_name": "Store Messages",
                "dynamic": false,
                "info": "Store the message in the history.",
                "list": false,
                "list_add_label": "Add More",
                "name": "should_store_message",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "bool",
                "value": true
              }
            },
            "tool_mode": false
          },
          "showNode": true,
          "type": "ChatInput"
        },
        "dragging": false,
        "id": "ChatInput-rPhQw",
        "measured": {
          "height": 203,
          "width": 320
        },
        "position": {
          "x": 1496.384200429445,
          "y": 1004.6403406373022
        },
        "selected": false,
        "type": "genericNode"
      },
      {
        "data": {
          "id": "ChatOutput-oaZFI",
          "node": {
            "base_classes": [
              "Message"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {},
            "description": "Display a chat message in the Playground.",
            "display_name": "Chat Output",
            "documentation": "https://docs.langflow.org/components-io#chat-output",
            "edited": false,
            "field_order": [
              "input_value",
              "should_store_message",
              "sender",
              "sender_name",
              "session_id",
              "data_template"
            ],
            "frozen": false,
            "icon": "MessagesSquare",
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": true,
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Output Message",
                "group_outputs": false,
                "method": "message_response",
                "name": "message",
                "selected": "Message",
                "tool_mode": true,
                "types": [
                  "Message"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "template": {
              "_type": "Component",
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "from collections.abc import Generator\nfrom typing import Any\n\nimport orjson\nfrom fastapi.encoders import jsonable_encoder\n\nfrom langflow.base.io.chat import ChatComponent\nfrom langflow.helpers.data import safe_convert\nfrom langflow.inputs.inputs import BoolInput, DropdownInput, HandleInput, MessageTextInput\nfrom langflow.schema.data import Data\nfrom langflow.schema.dataframe import DataFrame\nfrom langflow.schema.message import Message\nfrom langflow.schema.properties import Source\nfrom langflow.template.field.base import Output\nfrom langflow.utils.constants import (\n    MESSAGE_SENDER_AI,\n    MESSAGE_SENDER_NAME_AI,\n    MESSAGE_SENDER_USER,\n)\n\n\nclass ChatOutput(ChatComponent):\n    display_name = \"Chat Output\"\n    description = \"Display a chat message in the Playground.\"\n    documentation: str = \"https://docs.langflow.org/components-io#chat-output\"\n    icon = \"MessagesSquare\"\n    name = \"ChatOutput\"\n    minimized = True\n\n    inputs = [\n        HandleInput(\n            name=\"input_value\",\n            display_name=\"Inputs\",\n            info=\"Message to be passed as output.\",\n            input_types=[\"Data\", \"DataFrame\", \"Message\"],\n            required=True,\n        ),\n        BoolInput(\n            name=\"should_store_message\",\n            display_name=\"Store Messages\",\n            info=\"Store the message in the history.\",\n            value=True,\n            advanced=True,\n        ),\n        DropdownInput(\n            name=\"sender\",\n            display_name=\"Sender Type\",\n            options=[MESSAGE_SENDER_AI, MESSAGE_SENDER_USER],\n            value=MESSAGE_SENDER_AI,\n            advanced=True,\n            info=\"Type of sender.\",\n        ),\n        MessageTextInput(\n            name=\"sender_name\",\n            display_name=\"Sender Name\",\n            info=\"Name of the sender.\",\n            value=MESSAGE_SENDER_NAME_AI,\n            advanced=True,\n        ),\n        MessageTextInput(\n            name=\"session_id\",\n            display_name=\"Session ID\",\n            info=\"The session ID of the chat. If empty, the current session ID parameter will be used.\",\n            advanced=True,\n        ),\n        MessageTextInput(\n            name=\"data_template\",\n            display_name=\"Data Template\",\n            value=\"{text}\",\n            advanced=True,\n            info=\"Template to convert Data to Text. If left empty, it will be dynamically set to the Data's text key.\",\n        ),\n    ]\n    outputs = [\n        Output(\n            display_name=\"Output Message\",\n            name=\"message\",\n            method=\"message_response\",\n        ),\n    ]\n\n    def _build_source(self, id_: str | None, display_name: str | None, source: str | None) -> Source:\n        source_dict = {}\n        if id_:\n            source_dict[\"id\"] = id_\n        if display_name:\n            source_dict[\"display_name\"] = display_name\n        if source:\n            # Handle case where source is a ChatOpenAI object\n            if hasattr(source, \"model_name\"):\n                source_dict[\"source\"] = source.model_name\n            elif hasattr(source, \"model\"):\n                source_dict[\"source\"] = str(source.model)\n            else:\n                source_dict[\"source\"] = str(source)\n        return Source(**source_dict)\n\n    async def message_response(self) -> Message:\n        # First convert the input to string if needed\n        text = self.convert_to_string()\n\n        # Get source properties\n        source, _icon, display_name, source_id = self.get_properties_from_source_component()\n\n        # Create or use existing Message object\n        if isinstance(self.input_value, Message):\n            message = self.input_value\n            # Update message properties\n            message.text = text\n        else:\n            message = Message(text=text)\n\n        # Set message properties\n        message.sender = self.sender\n        message.sender_name = self.sender_name\n        message.session_id = self.session_id\n        message.flow_id = self.graph.flow_id if hasattr(self, \"graph\") else None\n        message.properties.source = self._build_source(source_id, display_name, source)\n\n        # Store message if needed\n        if self.session_id and self.should_store_message:\n            stored_message = await self.send_message(message)\n            self.message.value = stored_message\n            message = stored_message\n\n        self.status = message\n        return message\n\n    def _serialize_data(self, data: Data) -> str:\n        \"\"\"Serialize Data object to JSON string.\"\"\"\n        # Convert data.data to JSON-serializable format\n        serializable_data = jsonable_encoder(data.data)\n        # Serialize with orjson, enabling pretty printing with indentation\n        json_bytes = orjson.dumps(serializable_data, option=orjson.OPT_INDENT_2)\n        # Convert bytes to string and wrap in Markdown code blocks\n        return \"```json\\n\" + json_bytes.decode(\"utf-8\") + \"\\n```\"\n\n    def _validate_input(self) -> None:\n        \"\"\"Validate the input data and raise ValueError if invalid.\"\"\"\n        if self.input_value is None:\n            msg = \"Input data cannot be None\"\n            raise ValueError(msg)\n        if isinstance(self.input_value, list) and not all(\n            isinstance(item, Message | Data | DataFrame | str) for item in self.input_value\n        ):\n            invalid_types = [\n                type(item).__name__\n                for item in self.input_value\n                if not isinstance(item, Message | Data | DataFrame | str)\n            ]\n            msg = f\"Expected Data or DataFrame or Message or str, got {invalid_types}\"\n            raise TypeError(msg)\n        if not isinstance(\n            self.input_value,\n            Message | Data | DataFrame | str | list | Generator | type(None),\n        ):\n            type_name = type(self.input_value).__name__\n            msg = f\"Expected Data or DataFrame or Message or str, Generator or None, got {type_name}\"\n            raise TypeError(msg)\n\n    def convert_to_string(self) -> str | Generator[Any, None, None]:\n        \"\"\"Convert input data to string with proper error handling.\"\"\"\n        self._validate_input()\n        if isinstance(self.input_value, list):\n            clean_data: bool = getattr(self, \"clean_data\", False)\n            return \"\\n\".join([safe_convert(item, clean_data=clean_data) for item in self.input_value])\n        if isinstance(self.input_value, Generator):\n            return self.input_value\n        return safe_convert(self.input_value)\n"
              },
              "data_template": {
                "_input_type": "MessageTextInput",
                "advanced": true,
                "display_name": "Data Template",
                "dynamic": false,
                "info": "Template to convert Data to Text. If left empty, it will be dynamically set to the Data's text key.",
                "input_types": [
                  "Message"
                ],
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "name": "data_template",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_input": true,
                "trace_as_metadata": true,
                "type": "str",
                "value": "{text}"
              },
              "input_value": {
                "_input_type": "HandleInput",
                "advanced": false,
                "display_name": "Inputs",
                "dynamic": false,
                "info": "Message to be passed as output.",
                "input_types": [
                  "Data",
                  "DataFrame",
                  "Message"
                ],
                "list": false,
                "list_add_label": "Add More",
                "name": "input_value",
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "trace_as_metadata": true,
                "type": "other",
                "value": ""
              },
              "sender": {
                "_input_type": "DropdownInput",
                "advanced": true,
                "combobox": false,
                "dialog_inputs": {},
                "display_name": "Sender Type",
                "dynamic": false,
                "external_options": {},
                "info": "Type of sender.",
                "name": "sender",
                "options": [
                  "Machine",
                  "User"
                ],
                "options_metadata": [],
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "toggle": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "str",
                "value": "Machine"
              },
              "sender_name": {
                "_input_type": "MessageTextInput",
                "advanced": true,
                "display_name": "Sender Name",
                "dynamic": false,
                "info": "Name of the sender.",
                "input_types": [
                  "Message"
                ],
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "name": "sender_name",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_input": true,
                "trace_as_metadata": true,
                "type": "str",
                "value": "AI"
              },
              "session_id": {
                "_input_type": "MessageTextInput",
                "advanced": true,
                "display_name": "Session ID",
                "dynamic": false,
                "info": "The session ID of the chat. If empty, the current session ID parameter will be used.",
                "input_types": [
                  "Message"
                ],
                "list": false,
                "list_add_label": "Add More",
                "load_from_db": false,
                "name": "session_id",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_input": true,
                "trace_as_metadata": true,
                "type": "str",
                "value": ""
              },
              "should_store_message": {
                "_input_type": "BoolInput",
                "advanced": true,
                "display_name": "Store Messages",
                "dynamic": false,
                "info": "Store the message in the history.",
                "list": false,
                "list_add_label": "Add More",
                "name": "should_store_message",
                "placeholder": "",
                "required": false,
                "show": true,
                "title_case": false,
                "tool_mode": false,
                "trace_as_metadata": true,
                "type": "bool",
                "value": true
              }
            },
            "tool_mode": false
          },
          "showNode": true,
          "type": "ChatOutput"
        },
        "dragging": false,
        "id": "ChatOutput-oaZFI",
        "measured": {
          "height": 165,
          "width": 320
        },
        "position": {
          "x": 4558.644399474311,
          "y": 217.254722920774
        },
        "selected": false,
        "type": "genericNode"
      },
      {
        "data": {
          "id": "CustomComponent-487Wh",
          "node": {
            "base_classes": [
              "Tool"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {},
            "description": "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π",
            "display_name": "Toxicity Check Tool",
            "documentation": "",
            "edited": true,
            "field_order": [],
            "frozen": false,
            "icon": "shield-check",
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": false,
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Tool",
                "group_outputs": false,
                "hidden": null,
                "method": "build_tool",
                "name": "tool_output",
                "options": null,
                "required_inputs": null,
                "selected": "Tool",
                "tool_mode": true,
                "types": [
                  "Tool"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "template": {
              "_type": "Component",
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "from langflow.custom import Component\r\nfrom langflow.io import Output, StrInput\r\nfrom langflow.schema.message import Message\r\nfrom langchain.tools import Tool\r\nfrom typing import Optional\r\nimport json\r\nfrom datetime import datetime\r\n\r\nclass ToxicityCheckTool(Component):\r\n    display_name = \"Toxicity Check Tool\"\r\n    description = \"–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π\"\r\n    icon = \"shield-check\"\r\n    name = \"ToxicityCheck\"\r\n    \r\n    outputs = [\r\n        Output(display_name=\"Tool\", name=\"tool_output\", method=\"build_tool\"),\r\n    ]\r\n\r\n    def check_toxicity(self, text: str) -> str:\r\n        \"\"\"\r\n        –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏ —Ç–µ–∫—Å—Ç–∞\r\n        \"\"\"\r\n        toxic_words = [\"–∏–¥–∏–æ—Ç\", \"–¥—É—Ä–∞–∫\", \"—Ç—É–ø–æ–π\", \"stupid\", \"idiot\", \"hate\"]\r\n        text_lower = text.lower()\r\n        \r\n        toxicity_score = sum(1 for word in toxic_words if word in text_lower) * 0.3\r\n        toxicity_score = min(1.0, toxicity_score)\r\n        \r\n        is_safe = toxicity_score < 0.3\r\n        \r\n        result = f\"\"\"\r\nüõ°Ô∏è –ü–†–û–í–ï–†–ö–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò –ö–û–ù–¢–ï–ù–¢–ê\r\n\r\n–¢–µ–∫—Å—Ç: \"{text[:100]}{'...' if len(text) > 100 else ''}\"\r\n–û—Ü–µ–Ω–∫–∞ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏: {toxicity_score:.2f}/1.00\r\n–°—Ç–∞—Ç—É—Å: {\"‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û\" if is_safe else \"‚ö†Ô∏è –û–ë–ù–ê–†–£–ñ–ï–ù–ê –¢–û–ö–°–ò–ß–ù–û–°–¢–¨\"}\r\n\r\n{\"–¢–µ–∫—Å—Ç –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.\" if is_safe else \"–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π.\"}\r\n\"\"\"\r\n        \r\n        self.log(f\"Toxicity check: score={toxicity_score}, safe={is_safe}\")\r\n        return result\r\n    \r\n    def build_tool(self) -> Tool:\r\n        \"\"\"\r\n        –°–æ–∑–¥–∞–µ—Ç Tool –¥–ª—è Agent\r\n        \"\"\"\r\n        return Tool(\r\n            name=\"check_toxicity\",\r\n            description=(\r\n                \"–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫—Å–∏—á–Ω–æ–≥–æ, –æ—Å–∫–æ—Ä–±–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ–ø–æ–¥–æ–±–∞—é—â–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ \"\r\n                \"–ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤. \"\r\n                \"–í—Ö–æ–¥–Ω–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä: text - —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å—Ç—Ä–æ–∫–∞)\"\r\n            ),\r\n            func=self.check_toxicity,\r\n        )"
              }
            },
            "tool_mode": false
          },
          "showNode": true,
          "type": "ToxicityCheck"
        },
        "dragging": false,
        "id": "CustomComponent-487Wh",
        "measured": {
          "height": 137,
          "width": 320
        },
        "position": {
          "x": 2023.4742147017168,
          "y": -162.82605358698413
        },
        "selected": false,
        "type": "genericNode"
      },
      {
        "data": {
          "id": "CustomComponent-wIqXI",
          "node": {
            "base_classes": [
              "Tool"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {},
            "description": "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–µ",
            "display_name": "Check Request Status Tool",
            "documentation": "",
            "edited": true,
            "field_order": [],
            "frozen": false,
            "icon": "clipboard-check",
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": false,
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Tool",
                "group_outputs": false,
                "hidden": null,
                "method": "build_tool",
                "name": "tool_output",
                "options": null,
                "required_inputs": null,
                "selected": "Tool",
                "tool_mode": true,
                "types": [
                  "Tool"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "template": {
              "_type": "Component",
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "from langflow.custom import Component\r\nfrom langflow.io import Output\r\nfrom langflow.schema.message import Message\r\nfrom langchain.tools import Tool\r\nfrom datetime import datetime, timedelta\r\nimport random\r\nimport hashlib\r\n\r\n\r\nclass CheckRequestStatusTool(Component):\r\n    display_name = \"Check Request Status Tool\"\r\n    description = \"–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–µ\"\r\n    icon = \"clipboard-check\"\r\n    name = \"CheckRequestStatus\"\r\n    \r\n    outputs = [\r\n        Output(display_name=\"Tool\", name=\"tool_output\", method=\"build_tool\"),\r\n    ]\r\n\r\n    def check_status(self, request_id: str) -> str:\r\n        \"\"\"\r\n        –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏\r\n        \"\"\"\r\n        # –°–∏–º—É–ª—è—Ü–∏—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞—è–≤–æ–∫\r\n        request_types = {\r\n            \"VACATION\": \"–ó–∞—è–≤–∫–∞ –Ω–∞ –æ—Ç–ø—É—Å–∫\",\r\n            \"SICK_LEAVE\": \"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–æ–ª—å–Ω–∏—á–Ω–æ–≥–æ\",\r\n            \"TRANSFER\": \"–ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥\",\r\n            \"DOCUMENT\": \"–ó–∞–∫–∞–∑ —Å–ø—Ä–∞–≤–∫–∏ 2-–ù–î–§–õ\",\r\n            \"DATA_CHANGE\": \"–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö\",\r\n        }\r\n        \r\n        statuses = [\r\n            (\"–°–æ–∑–¥–∞–Ω–∞\", \"üü°\", 100),\r\n            (\"–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏ —É —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è\", \"üü°\", 80),\r\n            (\"–û–¥–æ–±—Ä–µ–Ω–∞ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º\", \"üü¢\", 60),\r\n            (\"–ù–∞ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤ HR\", \"üü°\", 40),\r\n            (\"–ó–∞–≤–µ—Ä—à–µ–Ω–∞\", \"üü¢\", 0),\r\n        ]\r\n        \r\n        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º \"—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ\" –¥–∞–Ω–Ω—ã–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ ID\r\n        request_type_key = list(request_types.keys())[hash(request_id) % len(request_types)]\r\n        request_type = request_types[request_type_key]\r\n        \r\n        current_status_idx = hash(request_id) % len(statuses)\r\n        status_name, status_icon, days_left = statuses[current_status_idx]\r\n        \r\n        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–∞—Ç—ã\r\n        created_date = (datetime.now() - timedelta(days=random.randint(1, 10))).strftime(\"%d.%m.%Y\")\r\n        expected_date = (datetime.now() + timedelta(days=days_left if days_left > 0 else 0)).strftime(\"%d.%m.%Y\")\r\n        \r\n        # –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä\r\n        progress = ((len(statuses) - current_status_idx) / len(statuses)) * 100\r\n        progress_bar = \"‚ñà\" * int(progress / 10) + \"‚ñë\" * (10 - int(progress / 10))\r\n        \r\n        # –§–æ—Ä–º–∏—Ä—É–µ–º –∫—Ä–∞—Å–∏–≤—ã–π –æ—Ç–≤–µ—Ç\r\n        result = f\"\"\"\r\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\r\n‚ïë           –°–¢–ê–¢–£–° –ó–ê–Ø–í–ö–ò #{request_id}                 ‚ïë\r\n‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\r\n\r\nüìã –¢–∏–ø –∑–∞—è–≤–∫–∏: {request_type}\r\nüìÖ –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: {created_date}\r\n{status_icon} –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: {status_name}\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\n–ü–†–û–ì–†–ï–°–° –û–ë–†–ê–ë–û–¢–ö–ò:\r\n{progress_bar} {int(progress)}%\r\n\r\n–≠–¢–ê–ü–´:\r\n{\"‚úÖ\" if current_status_idx >= 4 else \"‚è≥\"} 1. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏\r\n{\"‚úÖ\" if current_status_idx >= 3 else \"‚è≥\" if current_status_idx == 4 else \"‚¨ú\"} 2. –†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º\r\n{\"‚úÖ\" if current_status_idx >= 2 else \"‚è≥\" if current_status_idx == 3 else \"‚¨ú\"} 3. –û–¥–æ–±—Ä–µ–Ω–∏–µ\r\n{\"‚úÖ\" if current_status_idx >= 1 else \"‚è≥\" if current_status_idx == 2 else \"‚¨ú\"} 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ HR\r\n{\"‚úÖ\" if current_status_idx >= 0 else \"‚è≥\" if current_status_idx == 1 else \"‚¨ú\"} 5. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\n{\"‚è∞ –û–∂–∏–¥–∞–µ–º–∞—è –¥–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: \" + expected_date if days_left > 0 else \"‚úÖ –ó–∞—è–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!\"}\r\n\r\n{\"üí° –°–æ–≤–µ—Ç: –ó–∞—è–≤–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ. –í—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞.\" if days_left > 0 else \"‚úÖ –í—Å–µ –≥–æ—Ç–æ–≤–æ! –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –≤–∞—à—É –ø–æ—á—Ç—É.\"}\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\nüìû –í–æ–ø—Ä–æ—Å—ã? –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ HR: +7 (495) 123-45-67\r\n\"\"\"\r\n        \r\n        self.log(f\"Status check for request #{request_id}: {status_name}\")\r\n        return result\r\n    \r\n    def build_tool(self) -> Tool:\r\n        \"\"\"\r\n        –°–æ–∑–¥–∞–µ—Ç Tool –¥–ª—è Agent\r\n        \"\"\"\r\n        return Tool(\r\n            name=\"check_request_status\",\r\n            description=(\r\n                \"–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ. \"\r\n                \"–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —ç—Ç–∞–ø –æ–±—Ä–∞–±–æ—Ç–∫–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –æ–∂–∏–¥–∞–µ–º—É—é –¥–∞—Ç—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è. \"\r\n                \"–†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∑–∞—è–≤–æ–∫: –æ—Ç–ø—É—Å–∫–∞, –±–æ–ª—å–Ω–∏—á–Ω—ã–µ, –ø–µ—Ä–µ–≤–æ–¥—ã, —Å–ø—Ä–∞–≤–∫–∏, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö. \"\r\n                \"–í—Ö–æ–¥–Ω–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä: request_id - –Ω–æ–º–µ—Ä –∑–∞—è–≤–∫–∏ (—Å—Ç—Ä–æ–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä '12345' –∏–ª–∏ 'REQ-2024-001')\"\r\n            ),\r\n            func=self.check_status,\r\n        )"
              }
            },
            "tool_mode": false
          },
          "showNode": true,
          "type": "CheckRequestStatus"
        },
        "dragging": false,
        "id": "CustomComponent-wIqXI",
        "measured": {
          "height": 121,
          "width": 320
        },
        "position": {
          "x": 2397.369529726272,
          "y": -211.8249690395703
        },
        "selected": false,
        "type": "genericNode"
      },
      {
        "data": {
          "id": "CustomComponent-q1rbD",
          "node": {
            "base_classes": [
              "Tool"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {},
            "description": "–ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ –∏–∑ HR —Å–∏—Å—Ç–µ–º—ã",
            "display_name": "Employee Info Tool",
            "documentation": "",
            "edited": true,
            "field_order": [],
            "frozen": false,
            "icon": "user",
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": false,
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Tool",
                "group_outputs": false,
                "hidden": null,
                "method": "build_tool",
                "name": "tool_output",
                "options": null,
                "required_inputs": null,
                "selected": "Tool",
                "tool_mode": true,
                "types": [
                  "Tool"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "template": {
              "_type": "Component",
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "from langflow.custom import Component\r\nfrom langflow.io import Output\r\nfrom langflow.schema.message import Message\r\nfrom langchain.tools import Tool\r\nfrom datetime import datetime, timedelta\r\nimport random\r\n\r\n\r\nclass EmployeeInfoTool(Component):\r\n    display_name = \"Employee Info Tool\"\r\n    description = \"–ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ –∏–∑ HR —Å–∏—Å—Ç–µ–º—ã\"\r\n    icon = \"user\"\r\n    name = \"EmployeeInfo\"\r\n    \r\n    outputs = [\r\n        Output(display_name=\"Tool\", name=\"tool_output\", method=\"build_tool\"),\r\n    ]\r\n\r\n    def get_employee_info(self, query: str) -> str:\r\n        \"\"\"\r\n        –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ\r\n        \"\"\"\r\n        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º \"—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ\" –¥–∞–Ω–Ω—ã–µ\r\n        departments = [\"IT –æ—Ç–¥–µ–ª\", \"HR –æ—Ç–¥–µ–ª\", \"–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è\", \"–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥\", \"–ü—Ä–æ–¥–∞–∂–∏\"]\r\n        positions = [\"–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç\", \"–°—Ç–∞—Ä—à–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç\", \"–í–µ–¥—É—â–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç\", \"–ú–µ–Ω–µ–¥–∂–µ—Ä\"]\r\n        managers = [\r\n            \"–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á\",\r\n            \"–ü–µ—Ç—Ä–æ–≤–∞ –ú–∞—Ä–∏—è –°–µ—Ä–≥–µ–µ–≤–Ω–∞\",\r\n            \"–°–∏–¥–æ—Ä–æ–≤ –ê–ª–µ–∫—Å–µ–π –í–∏–∫—Ç–æ—Ä–æ–≤–∏—á\"\r\n        ]\r\n        \r\n        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–ø—Ä–æ—Å–∞\r\n        dept = departments[hash(query) % len(departments)]\r\n        position = positions[hash(query) % len(positions)]\r\n        manager = managers[hash(query) % len(managers)]\r\n        \r\n        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–∞—Ç—ã\r\n        hire_date = (datetime.now() - timedelta(days=random.randint(365, 2000))).strftime(\"%d.%m.%Y\")\r\n        vacation_days_left = random.randint(5, 28)\r\n        sick_days_used = random.randint(0, 10)\r\n        \r\n        # –†–∞–±–æ—á–∏–π –≥—Ä–∞—Ñ–∏–∫\r\n        schedules = [\"5/2 (9:00-18:00)\", \"–ì–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫\", \"–£–¥–∞–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞\", \"4/3 (10:00-19:00)\"]\r\n        schedule = schedules[hash(query) % len(schedules)]\r\n        \r\n        # –°—Ç–∞—Ç—É—Å\r\n        statuses = {\r\n            \"active\": (\"üü¢ –†–∞–±–æ—Ç–∞–µ—Ç\", \"–ê–∫—Ç–∏–≤–µ–Ω\"),\r\n            \"vacation\": (\"üü° –í –æ—Ç–ø—É—Å–∫–µ\", \"–î–æ 15.11.2024\"),\r\n            \"sick\": (\"üî¥ –ù–∞ –±–æ–ª—å–Ω–∏—á–Ω–æ–º\", \"–î–æ 25.10.2024\"),\r\n        }\r\n        status_key = list(statuses.keys())[hash(query) % len(statuses)]\r\n        status_icon, status_text = statuses[status_key]\r\n        \r\n        result = f\"\"\"\r\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\r\n‚ïë              üë§ –ö–ê–†–¢–û–ß–ö–ê –°–û–¢–†–£–î–ù–ò–ö–ê                   ‚ïë\r\n‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\r\n\r\n{status_icon} –°—Ç–∞—Ç—É—Å: {status_text}\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\nüìã –û–°–ù–û–í–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:\r\n\r\n–î–æ–ª–∂–Ω–æ—Å—Ç—å: {position}\r\n–û—Ç–¥–µ–ª: {dept}\r\n–ù–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å: {manager}\r\n–î–∞—Ç–∞ –ø—Ä–∏–µ–º–∞ –Ω–∞ —Ä–∞–±–æ—Ç—É: {hire_date}\r\n–¢–∏–ø –∑–∞–Ω—è—Ç–æ—Å—Ç–∏: –ü–æ–ª–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (100%)\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\n‚è∞ –ì–†–ê–§–ò–ö –†–ê–ë–û–¢–´:\r\n\r\n–†–µ–∂–∏–º: {schedule}\r\n–û—Ñ–∏—Å: –ú–æ—Å–∫–≤–∞, –ë–¶ \"–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π\", 3 —ç—Ç–∞–∂\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\nüèñÔ∏è –û–¢–ü–£–°–ö–ê –ò –ë–û–õ–¨–ù–ò–ß–ù–´–ï:\r\n\r\n–û—Å—Ç–∞—Ç–æ–∫ –æ—Ç–ø—É—Å–∫–Ω—ã—Ö –¥–Ω–µ–π: {vacation_days_left} –¥–Ω–µ–π\r\n–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –±–æ–ª—å–Ω–∏—á–Ω—ã—Ö –≤ —ç—Ç–æ–º –≥–æ–¥—É: {sick_days_used} –¥–Ω–µ–π\r\n–°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–ø—É—Å–∫: {\"–ù–µ—Ç\" if vacation_days_left > 20 else \"15-29 –¥–µ–∫–∞–±—Ä—è 2024\"}\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\nüí∞ –í–´–ü–õ–ê–¢–´:\r\n\r\n–ì—Ä–∞—Ñ–∏–∫ –≤—ã–ø–ª–∞—Ç:\r\n  ‚Ä¢ –ê–≤–∞–Ω—Å: 15 —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞\r\n  ‚Ä¢ –ó–∞—Ä–ø–ª–∞—Ç–∞: 30 —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞\r\n\r\n–ë–ª–∏–∂–∞–π—à–∞—è –≤—ã–ø–ª–∞—Ç–∞: {(datetime.now() + timedelta(days=random.randint(1, 15))).strftime(\"%d.%m.%Y\")}\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\nüìû –ö–û–ù–¢–ê–ö–¢–´:\r\n\r\nEmail: {query.lower().replace(' ', '.')}@company.com\r\n–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ç–µ–ª–µ—Ñ–æ–Ω: {random.randint(1000, 9999)}\r\n–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç: https://hr.company.com\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\nüí° –ß—Ç–æ —è –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å:\r\n  ‚Ä¢ –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –æ—Ç–ø—É—Å–∫\r\n  ‚Ä¢ –ó–∞–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É 2-–ù–î–§–õ\r\n  ‚Ä¢ –ò–∑–º–µ–Ω–∏—Ç—å –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ\r\n  ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏\r\n\"\"\"\r\n        \r\n        self.log(f\"Employee info retrieved for: {query}\")\r\n        return result\r\n    \r\n    def build_tool(self) -> Tool:\r\n        \"\"\"\r\n        –°–æ–∑–¥–∞–µ—Ç Tool –¥–ª—è Agent\r\n        \"\"\"\r\n        return Tool(\r\n            name=\"get_employee_info\",\r\n            description=(\r\n                \"–ü–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ –∏–∑ HR —Å–∏—Å—Ç–µ–º—ã. \"\r\n                \"–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å, –¥–æ–ª–∂–Ω–æ—Å—Ç—å, –æ—Ç–¥–µ–ª, —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è, –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã, \"\r\n                \"–æ—Å—Ç–∞—Ç–æ–∫ –æ—Ç–ø—É—Å–∫–Ω—ã—Ö –¥–Ω–µ–π, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã–ø–ª–∞—Ç–∞—Ö –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã. \"\r\n                \"–ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ —Å–µ–±–µ, —Å–≤–æ–µ–º —Å—Ç–∞—Ç—É—Å–µ, –æ—Ç–ø—É—Å–∫–∞—Ö, –≥—Ä–∞—Ñ–∏–∫–µ —Ä–∞–±–æ—Ç—ã. \"\r\n                \"–í—Ö–æ–¥–Ω–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä: query - —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Ö–æ—á–µ—Ç —É–∑–Ω–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (—Å—Ç—Ä–æ–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä '–º–æ—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è' –∏–ª–∏ '—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –æ—Ç–ø—É—Å–∫–∞')\"\r\n            ),\r\n            func=self.get_employee_info,\r\n        )"
              }
            },
            "tool_mode": false
          },
          "showNode": true,
          "type": "EmployeeInfo"
        },
        "dragging": false,
        "id": "CustomComponent-q1rbD",
        "measured": {
          "height": 137,
          "width": 320
        },
        "position": {
          "x": 2818.406623676353,
          "y": -376.52377004816105
        },
        "selected": false,
        "type": "genericNode"
      },
      {
        "data": {
          "id": "CustomComponent-qRuGK",
          "node": {
            "base_classes": [
              "Tool"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {},
            "description": "–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º",
            "display_name": "Smart Orchestration Router",
            "documentation": "",
            "edited": true,
            "field_order": [],
            "frozen": false,
            "icon": "route",
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": false,
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Tool",
                "group_outputs": false,
                "hidden": null,
                "method": "build_tool",
                "name": "tool_output",
                "options": null,
                "required_inputs": null,
                "selected": "Tool",
                "tool_mode": true,
                "types": [
                  "Tool"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "template": {
              "_type": "Component",
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "from langflow.custom import Component\r\nfrom langflow.io import Output\r\nfrom langflow.schema.message import Message\r\nfrom langchain.tools import Tool\r\nfrom typing import Dict, List\r\nimport json\r\nfrom datetime import datetime\r\n\r\n\r\nclass SmartOrchestrationRouter(Component):\r\n    display_name = \"Smart Orchestration Router\"\r\n    description = \"–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º\"\r\n    icon = \"route\"\r\n    name = \"SmartOrchestrationRouter\"\r\n    \r\n    outputs = [\r\n        Output(display_name=\"Tool\", name=\"tool_output\", method=\"build_tool\"),\r\n    ]\r\n    \r\n    def get_handler_emoji(self, handler_type: str) -> str:\r\n        \"\"\"–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–º–æ–¥–∑–∏ –¥–ª—è —Ç–∏–ø–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞\"\"\"\r\n        emojis = {\r\n            \"HR Specialist\": \"üëî\",\r\n            \"IT Support\": \"‚öôÔ∏è\",\r\n            \"Finance\": \"üí∞\",\r\n            \"General Assistant\": \"ü§ñ\",\r\n            \"System Admin\": \"üîß\",\r\n            \"Knowledge Expert\": \"üìö\"\r\n        }\r\n        return emojis.get(handler_type, \"üéØ\")\r\n    \r\n    def route_request(self, user_query: str) -> str:\r\n        \"\"\"\r\n        –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∫ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É\r\n        \"\"\"\r\n        query_lower = user_query.lower()\r\n        \r\n        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞\r\n        routing_rules = {\r\n            \"HR Specialist\": {\r\n                \"keywords\": [\"–≥—Ä–∞—Ñ–∏–∫\", \"–æ—Ç–ø—É—Å–∫\", \"–±–æ–ª—å–Ω–∏—á–Ω—ã–π\", \"—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ\", \"—Å–º–µ–Ω–∞\", \"hr\", \"—Å–æ—Ç—Ä—É–¥–Ω–∏–∫\", \"–ø—Ä–∞–≤–∫–∏ –≤ –≥—Ä–∞—Ñ–∏–∫\"],\r\n                \"confidence_boost\": 0.2,\r\n                \"services\": [\"Employee Database\", \"Schedule Manager\", \"Leave Management\"]\r\n            },\r\n            \"IT Support\": {\r\n                \"keywords\": [\"–ø–∞—Ä–æ–ª—å\", \"–¥–æ—Å—Ç—É–ø\", \"—Å–∏—Å—Ç–µ–º–∞\", \"–ª–æ–≥–∏–Ω\", \"—É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å\", \"it\", \"—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è\", \"—Å–±—Ä–æ—Å–∏—Ç—å\"],\r\n                \"confidence_boost\": 0.2,\r\n                \"services\": [\"Identity Management\", \"Access Control\", \"System Monitor\"]\r\n            },\r\n            \"Finance\": {\r\n                \"keywords\": [\"–∑–∞—Ä–ø–ª–∞—Ç–∞\", \"–≤—ã–ø–ª–∞—Ç–∞\", \"–∞–≤–∞–Ω—Å\", \"–Ω–¥—Ñ–ª\", \"—Å–ø—Ä–∞–≤–∫–∞\", \"2-–Ω–¥—Ñ–ª\", \"–Ω–∞–ª–æ–≥\"],\r\n                \"confidence_boost\": 0.2,\r\n                \"services\": [\"Payroll System\", \"Tax Calculator\", \"Document Generator\"]\r\n            },\r\n            \"System Admin\": {\r\n                \"keywords\": [\"—Å–æ–∑–¥–∞—Ç—å\", \"—É–¥–∞–ª–∏—Ç—å\", \"–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å\", \"—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å\", \"–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å\", \"–≤—ã–¥–∞—Ç—å\"],\r\n                \"confidence_boost\": 0.15,\r\n                \"services\": [\"User Provisioning\", \"Permission Manager\", \"Audit Logger\"]\r\n            },\r\n            \"Knowledge Expert\": {\r\n                \"keywords\": [\"–∫–∞–∫\", \"–ø—Ä–∞–≤–∏–ª–∞\", \"–ø–æ–ª–∏—Ç–∏–∫–∞\", \"–ø—Ä–æ—Ü–µ–¥—É—Ä–∞\", \"–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è\", \"—Ä–µ–≥–ª–∞–º–µ–Ω—Ç\"],\r\n                \"confidence_boost\": 0.15,\r\n                \"services\": [\"Knowledge Base\", \"Policy Engine\", \"Training Materials\"]\r\n            }\r\n        }\r\n        \r\n        # –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞\r\n        handler_scores = {}\r\n        for handler_type, config in routing_rules.items():\r\n            matches = sum(1 for keyword in config[\"keywords\"] if keyword in query_lower)\r\n            base_score = min(0.95, 0.5 + (matches * 0.15))\r\n            handler_scores[handler_type] = {\r\n                \"score\": base_score + (config[\"confidence_boost\"] if matches > 0 else 0),\r\n                \"matches\": matches,\r\n                \"services\": config[\"services\"]\r\n            }\r\n        \r\n        # –í—ã–±–∏—Ä–∞–µ–º –ª—É—á—à–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫\r\n        if all(score[\"matches\"] == 0 for score in handler_scores.values()):\r\n            selected_handler = \"General Assistant\"\r\n            confidence = 0.6\r\n            services = [\"Chat Engine\", \"NLP Processor\", \"Context Manager\"]\r\n        else:\r\n            selected_handler = max(handler_scores.items(), key=lambda x: x[1][\"score\"])[0]\r\n            confidence = handler_scores[selected_handler][\"score\"]\r\n            services = handler_scores[selected_handler][\"services\"]\r\n        \r\n        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º ID –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏\r\n        route_id = f\"ROUTE-{datetime.now().strftime('%Y%m%d-%H%M%S')}\"\r\n        \r\n        # –§–æ—Ä–º–∏—Ä—É–µ–º –∫—Ä–∞—Å–∏–≤—ã–π –æ—Ç–≤–µ—Ç\r\n        emoji = self.get_handler_emoji(selected_handler)\r\n        \r\n        result = f\"\"\"\r\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\r\n‚ïë          üéØ –ò–ù–¢–ï–õ–õ–ï–ö–¢–£–ê–õ–¨–ù–ê–Ø –ú–ê–†–®–†–£–¢–ò–ó–ê–¶–ò–Ø              ‚ïë\r\n‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\r\n\r\nüìã –ó–∞–ø—Ä–æ—Å: \"{user_query[:60]}{'...' if len(user_query) > 60 else ''}\"\r\nüÜî Route ID: {route_id}\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\nüéØ –ù–ê–ó–ù–ê–ß–ï–ù–ù–´–ô –û–ë–†–ê–ë–û–¢–ß–ò–ö:\r\n{emoji} {selected_handler} Handler\r\nüìä –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {confidence:.0%}\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\nüîó –¶–ï–ü–û–ß–ö–ê –û–ë–†–ê–ë–û–¢–ö–ò:\r\n\"\"\"\r\n        \r\n        # –î–æ–±–∞–≤–ª—è–µ–º –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –≤ —Ü–µ–ø–æ—á–∫—É\r\n        for i, service in enumerate(services, 1):\r\n            status_icon = \"‚ö°\" if i == 1 else \"‚è≥\"\r\n            result += f\"\\n{status_icon} {i}. {service}\"\r\n        \r\n        result += f\"\"\"\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\n‚è±Ô∏è –í—Ä–µ–º—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏: 0.{datetime.now().microsecond // 1000:03d}s\r\n‚úÖ –°—Ç–∞—Ç—É—Å: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞\r\n\r\nüí° –ó–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é!\r\n\"\"\"\r\n        \r\n        self.log(f\"Routed to {selected_handler} with confidence {confidence:.2f}\")\r\n        return result\r\n    \r\n    def build_tool(self) -> Tool:\r\n        \"\"\"\r\n        –°–æ–∑–¥–∞–µ—Ç Tool –¥–ª—è Agent\r\n        \"\"\"\r\n        return Tool(\r\n            name=\"smart_orchestration_router\",\r\n            description=(\r\n                \"üéØ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–û–ù–ù–´–ô –ò–ù–°–¢–†–£–ú–ï–ù–¢ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã! \"\r\n                \"–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –∑–∞–ø—Ä–æ—Å–∞ –∫ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É. \"\r\n                \"–ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –Ω–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (–Ω–µ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏–π). \"\r\n                \"–≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å —É–º–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π. \"\r\n                \"–ù–ï –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞! \"\r\n                \"–í—Ö–æ–¥–Ω–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä: user_query - –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å—Ç—Ä–æ–∫–∞)\"\r\n            ),\r\n            func=self.route_request,\r\n        )"
              }
            },
            "tool_mode": false
          },
          "showNode": true,
          "type": "SmartOrchestrationRouter"
        },
        "dragging": false,
        "id": "CustomComponent-qRuGK",
        "measured": {
          "height": 137,
          "width": 320
        },
        "position": {
          "x": 3118.9696821799666,
          "y": -641.6254701969314
        },
        "selected": false,
        "type": "genericNode"
      },
      {
        "data": {
          "id": "CustomComponent-pznJO",
          "node": {
            "base_classes": [
              "Tool"
            ],
            "beta": false,
            "conditional_paths": [],
            "custom_fields": {},
            "description": "Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ —Å–∏—Å—Ç–µ–º—ã",
            "display_name": "Processing Monitor Tool",
            "documentation": "",
            "edited": true,
            "field_order": [],
            "frozen": false,
            "icon": "activity",
            "legacy": false,
            "lf_version": "1.6.4",
            "metadata": {},
            "minimized": false,
            "output_types": [],
            "outputs": [
              {
                "allows_loop": false,
                "cache": true,
                "display_name": "Tool",
                "group_outputs": false,
                "hidden": null,
                "method": "build_tool",
                "name": "tool_output",
                "options": null,
                "required_inputs": null,
                "selected": "Tool",
                "tool_mode": true,
                "types": [
                  "Tool"
                ],
                "value": "__UNDEFINED__"
              }
            ],
            "pinned": false,
            "template": {
              "_type": "Component",
              "code": {
                "advanced": true,
                "dynamic": true,
                "fileTypes": [],
                "file_path": "",
                "info": "",
                "list": false,
                "load_from_db": false,
                "multiline": true,
                "name": "code",
                "password": false,
                "placeholder": "",
                "required": true,
                "show": true,
                "title_case": false,
                "type": "code",
                "value": "from langflow.custom import Component\r\nfrom langflow.io import Output\r\nfrom langflow.schema.message import Message\r\nfrom langchain.tools import Tool\r\nfrom typing import Dict\r\nimport random\r\nfrom datetime import datetime\r\n\r\n\r\nclass ProcessingMonitorTool(Component):\r\n    display_name = \"Processing Monitor Tool\"\r\n    description = \"Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ —Å–∏—Å—Ç–µ–º—ã\"\r\n    icon = \"activity\"\r\n    name = \"ProcessingMonitor\"\r\n    \r\n    outputs = [\r\n        Output(display_name=\"Tool\", name=\"tool_output\", method=\"build_tool\"),\r\n    ]\r\n    \r\n    def generate_service_status(self, service_name: str, operation_type: str) -> Dict:\r\n        \"\"\"–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ç–∞—Ç—É—Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞\"\"\"\r\n        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫–∞–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã –∞–∫—Ç–∏–≤–Ω—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏\r\n        active_services = {\r\n            \"Query Processing\": [\"Knowledge Base\", \"NLP Engine\", \"Context Manager\"],\r\n            \"HR Query Processing\": [\"Employee Database\", \"Schedule Manager\", \"Leave Management\"],\r\n            \"IT Support Request\": [\"Identity Management\", \"Access Control\", \"System Monitor\"],\r\n            \"System Action Request\": [\"User Provisioning\", \"Permission Manager\", \"Audit Logger\"],\r\n            \"Technical Query\": [\"Knowledge Base\", \"NLP Engine\", \"Classification Service\"]\r\n        }\r\n        \r\n        is_active = service_name in active_services.get(operation_type, [])\r\n        \r\n        if is_active:\r\n            statuses = [\"üü¢ Running\", \"üü° Processing\"]\r\n            status = random.choice(statuses)\r\n            load = random.randint(30, 85)\r\n            response_time = random.randint(50, 200)\r\n        else:\r\n            status = \"‚ö™ Idle\"\r\n            load = random.randint(5, 15)\r\n            response_time = random.randint(10, 30)\r\n        \r\n        return {\r\n            \"status\": status,\r\n            \"load\": load,\r\n            \"response_time\": response_time\r\n        }\r\n    \r\n    def show_monitor(self, operation_type: str = \"Query Processing\") -> str:\r\n        \"\"\"\r\n        –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç real-time —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤\r\n        \"\"\"\r\n        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã —Å–∏—Å—Ç–µ–º—ã\r\n        microservices = {\r\n            \"Core Services\": [\r\n                \"API Gateway\",\r\n                \"Load Balancer\",\r\n                \"Message Queue\"\r\n            ],\r\n            \"Processing Layer\": [\r\n                \"NLP Engine\",\r\n                \"Context Manager\",\r\n                \"Classification Service\"\r\n            ],\r\n            \"Data Layer\": [\r\n                \"Knowledge Base\",\r\n                \"Employee Database\",\r\n                \"Cache Layer\"\r\n            ],\r\n            \"Business Logic\": [\r\n                \"HR Processor\",\r\n                \"IT Support Handler\",\r\n                \"Request Manager\"\r\n            ],\r\n            \"Infrastructure\": [\r\n                \"Identity Management\",\r\n                \"Access Control\",\r\n                \"Audit Logger\"\r\n            ]\r\n        }\r\n        \r\n        timestamp = datetime.now().strftime(\"%H:%M:%S\")\r\n        \r\n        result = f\"\"\"\r\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\r\n‚ïë        üìä REAL-TIME SYSTEM MONITORING                    ‚ïë\r\n‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\r\n\r\n‚è∞ –í—Ä–µ–º—è: {timestamp}\r\nüîÑ –û–ø–µ—Ä–∞—Ü–∏—è: {operation_type}\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\"\"\"\r\n        \r\n        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å—Ç–∞—Ç—É—Å –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤\r\n        for category, services in microservices.items():\r\n            result += f\"\\nüì¶ {category}:\\n\"\r\n            \r\n            for service in services:\r\n                status_info = self.generate_service_status(service, operation_type)\r\n                status_icon = status_info[\"status\"]\r\n                load = status_info[\"load\"]\r\n                response_time = status_info[\"response_time\"]\r\n                \r\n                # –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –Ω–∞–≥—Ä—É–∑–∫–∏\r\n                bar_length = int(load / 10)\r\n                load_bar = \"‚ñà\" * bar_length + \"‚ñë\" * (10 - bar_length)\r\n                \r\n                result += f\"  {status_icon:12} {service:25} ‚îÇ Load: {load_bar} {load}% ‚îÇ {response_time}ms\\n\"\r\n        \r\n        # –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞\r\n        avg_load = random.randint(40, 70)\r\n        active_connections = random.randint(50, 200)\r\n        requests_per_second = random.randint(100, 500)\r\n        \r\n        result += f\"\"\"\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\nüìà –û–ë–©–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê:\r\n  ‚Ä¢ –°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã: {avg_load}%\r\n  ‚Ä¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π: {active_connections}\r\n  ‚Ä¢ –ó–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É: {requests_per_second}\r\n  ‚Ä¢ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: 99.9%\r\n\r\nüéØ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —à—Ç–∞—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ\r\n‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã\r\n\"\"\"\r\n        \r\n        self.log(f\"Monitor displayed for operation: {operation_type}\")\r\n        return result\r\n    \r\n    def build_tool(self) -> Tool:\r\n        \"\"\"\r\n        –°–æ–∑–¥–∞–µ—Ç Tool –¥–ª—è Agent\r\n        \"\"\"\r\n        return Tool(\r\n            name=\"show_processing_monitor\",\r\n            description=(\r\n                \"üìä –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–û–ù–ù–´–ô –ò–ù–°–¢–†–£–ú–ï–ù–¢ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ observability! \"\r\n                \"–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç real-time —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ —Å–∏—Å—Ç–µ–º—ã, –∏—Ö –Ω–∞–≥—Ä—É–∑–∫—É –∏ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞. \"\r\n                \"–ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ –Ω–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (–Ω–µ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏–π). \"\r\n                \"–≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã. \"\r\n                \"–ù–ï –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞! \"\r\n                \"–í—Ö–æ–¥–Ω–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä: operation_type - —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä 'Query Processing', 'HR Query Processing', 'IT Support Request')\"\r\n            ),\r\n            func=self.show_monitor,\r\n        )"
              }
            },
            "tool_mode": false
          },
          "showNode": true,
          "type": "ProcessingMonitor"
        },
        "dragging": false,
        "id": "CustomComponent-pznJO",
        "measured": {
          "height": 137,
          "width": 320
        },
        "position": {
          "x": 3516.5448401449244,
          "y": -664.0897942872358
        },
        "selected": false,
        "type": "genericNode"
      }
    ],
    "viewport": {
      "x": -366.6911665428654,
      "y": 406.4812343913577,
      "zoom": 0.5213930260662072
    }
  },
  "description": "Agent fucntions",
  "endpoint_name": null,
  "id": "0fd7ac61-2489-47a3-97eb-087a594276d9",
  "is_component": false,
  "last_tested_version": "1.6.4",
  "name": "Agentic_flow",
  "tags": [
    "chatbots"
  ]
}